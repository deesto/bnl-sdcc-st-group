# BNL SDCC S&amp;T Group
Work logs for the S&amp;T Group in the SDCC at BNL.

# --2025--

## Ongoing Meetings
- ATLAS ADC (weekly)
- Belle II BNL Software & Computing (weekly, BNL, remote)
- Belle II Conditions Database Coordination (monthly, remote)
- Belle II Distributed Computing (weekly, KEK, remote)
- CVMFS Coordination (monthly, CERN, remote)
- NPP All Hands Meetings (quarterly)
- NPPS Group Meetings (bi-weekly)
- Rucio Token Working Group (monthly, CERN, remote)
- SDCC ATLAS Tier 1 (weekly, remote)
- SDCC Liaison (monthly)
- SDCC Projects (weekly)
- SDCC Services & Tools (weekly)
- SDCC Staff (monthly)
- SDCC Technical (monthly)
- SDCC User Services section (weekly)
- US ATLAS Computing Facility (weekly, remote)
- US ATLAS Facilities Research & Development (bi-weekly, remote)
- US ATLAS Tier 2 (weekly)
- WLCG AuthZ Working Group (bi-weekly, remote)
- WLCG DOMA (monthly, remote)
- WLCG Frontier Meeting (remote)
- WLCG Unified Token (GUT) Profile Working Group (monthly, remote)

# 15-19 Sep
- ATLAS: VO, IAM user management, questions, troubleshooting
- Belle II: investigation of many (most) jobs submitted to BNL being held by Condor (Hiro)
- Belle II: recovery of backup conditiions services after VM migration from RHEV to OpenShift (Joe)
- Belle II: debugging of DDM accounting data exported from InfluxDB into Victoria Metrics logs and new Grafana [dashboard](https://monitoring.sdcc.bnl.gov/grafana/d/aes8trz6ta2gwa/jd-ddm-vm-copy) (Costin, Cedric)
- CVMFS: continued Stratum One reports from WLCG of impacted maintenance operations due to high NAS I/O
  - another manual verification process on 'unpacked' repo started last week
  - 'ams' repo replication delayed by 10 hours (13 Sep); 'fcc' repo replication delayed by 9 hours (13 Sep); 'unpacked' repo replication delayed by 15 hours (14,15 Sep); 'alice' replication delayed by 15 hours (16 Sep)
- CVMFS: debugging of [development](https://github.com/cvmfs-contrib/prometheus-cvmfs/compare/grafana-dashboard-example) CVMFS Prometheus dashboard and ingest of cvmfs_exporter cache and repository data, adjustments for new, local farm [dashboard](https://monitoring.sdcc.bnl.gov/grafana/d/cvmfs-client-monitoring/cvmfs-client-monitoring-dev) (Costin, Valentin)
- SDCC: meeting with Victoria Metrics to discuss pricing and licensing (Costin)
- SDCC: issues with former user content hosting web server (apacheusr) being used for unauthorized purposes; puppet and httpd disabled for imminent system shutdown and retirement
- SDCC: BNL Indico user, group, role access management and clean-up for staff, CDS, management access (Alexei, Tony)
- BNL: completed, submitted FY2025 self evaluation 

# 8-12 Sep
- ATLAS: VO, IAM user management, questions, troubleshooting
  - user, manager, group management for phys-higp (and production) groups 
  - reported display, search issues for outstanding requests in IAM ([Github issue](https://github.com/indigo-iam/iam/issues/1047)); accepted as bug for v1.13 branch
  - US ATLAS group membership requests were left unattended for > 1 month
- ATLAS: follow-ups with ADC toward eliminating extraneous, impossible requests for CERN-only projects CVMFS repo outside of CERN by reworking CUDA path and version job variables (Asoka) 
- ATLAS/WLCG: WLCG [Open Technical Forum](https://indico.cern.ch/event/1562124/) #6 (9-10 Sep)
  - missed 2nd day due to conflict with Projects meeting
- ATLAS: more discussion about local Frontier job traffic redirect to remote Varnish, expectations and requirements on BNL 
- ATLAS/WLCG: AuthZ WG [proposal](https://docs.google.com/document/d/1mtTtQEV7WN0mM3KYMXXTzgUKvmwxjd7gsIVkNndCIg0/edit?usp=sharing) for standardizing JSON web key set (JWKS) caches
- Belle II: investigation and follow-up on conditions database partitioning request and suggestions [DESY Gitlab](https://gitlab.desy.de/belle2/software/cdb/operations/-/work_items/5)
  - also to-do: need to restrict and enforce conditions global tag name length < 80 characters
- Belle II: more testing of exporting DDM accounting data from Influx to Victoria Matrics (Costin)
  - full, direct historical import from Influx (gs-elk01) into Victoria Metrics (skybuild02) took 8 days (4-12 Sep)
- Belle II: debugging of remote access to OpenShift for Belle II projects, auth for B2 computing members, token access, SSH tunneling and proxying (Rob)
- CVMFS: continued Stratum One reports from WLCG of impacted maintenance operations due to high NAS I/O
  - manual verification process on 'unpacked' repo took > 4 weeks and timed out; 'ams' replication delayed by 12 hours
  - verified other sites (with local disk vs. NAS storage) do not have these problems; server upgrade to v2.13.2 (after EL9 upgrade) plus code patches may help
  - testing other optimizations of operations on existing storage (e.g., multiple execution options on repository checks)
  - warnings about outdated snapshots for EGI.eu repos (10 Sep), caused by upstream source problems
- CVMFS: closed long-standing [sPHENIX ticket](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38315) on "stuck" files after much discussion and conclusion that likely cause was high job load on nodes
- ITD: follow-ups to Help Desk ticket (from May 2025) on replacing broken CUPS print service with PrinterLogic (INC0207237, Dennis)
- SDCC: Globus client issue [reported](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38166): directory listing timeouts due to hung NFS mount (Joe) 
- SDCC: RT user/group/queue management
- SDCC: more complaints about SSH key upload errors [RT#38398](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38398)
  - user tried to upload existing SSH key to wrong account
- SDCC: updates to [system admin access list](https://docs.google.com/spreadsheets/d/1YvAruRwopHBHOMtO8XWPxqp6qyo35hJ6r3fFY91btOs/edit?usp=sharing), [group slides](https://docs.google.com/presentation/d/1d6E9Cg8A4Fcplejc5Hc-NmUBRRKUtiPgAvORr27UCKU/edit?usp=sharing) for staff meeting
- SDCC: chaired, [minutes](https://docs.google.com/document/d/1OGr2SvrQe7CKvmEhnTRXCYelRFTAIXa-AueFKk19HyM/edit?usp=sharing) for EIC computing PD meeting (conflict with staff management meeting)
 
# 1-5 Sep
- ATLAS: VO, IAM user management, questions, troubleshooting
  - New [IAM admins API token doc](https://atlas-computing.docs.cern.ch/operations/IAM/index.html) added to ATLAS Computing MKdocs site (Petr)
- ATLAS: renewed expiring CERN Computer Security training and Computing Rules agreement
- ATLAS: renewed expiring CERN CA user grid certificate, and propagated to major experiment site WN farms for grid work (SDCC, CERN, DESY, KEK)
- ATLAS: BNL's Frontier traffic has been diverted from BNL's Frontier Squid caches to Varnish caches at other US T2 sites (AGLT2, NET2)
  - traffic to pair of Squid caches stopped 27 Aug
  - Test Varnish deployment in BNL OpenShift remains vulnerable, disabled
  - Updated [outstanding GGUS ticket](https://helpdesk.ggus.eu/#ticket/zoom/3795) with details of ATLAS's decision to reroute traffic away from BNL
- Belle II: BNL dCache intervention (3 Sep) and effects tracked in [Gitlab issue](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/tasks/-/issues/319) (Cedric) 
- Belle II: Final evaluation [submitted](https://summerofcode.withgoogle.com/evaluations/jAknOPjv), final project meeting for Google Summer of Code HSF Nopayloaddb logging project participant
  - sadly, participant was never able to complete all accounts and authorization necessary to gain access to our OpenShift cluster during the project
- Belle II: more testing of exporting existing DDM data in InfluxDB (on ELK server) directly into Victoria Metrics (Costin)
- CVMFS: failed ATLAS jobs [reported](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38367) on one shared pool node (spool0676), with broken CVMFS client
  - no repos were mountable; two stale repos were inaccessible; shared cache directories could not be cleared and client could not be recoved via normal means
  - node reboot failed (Tom); very likely a HW disk failure
- CVMFS: continued Stratum One reports from WLCG of impacted maintenance operations due to high NAS I/O
  - manual verification process on 'unpacked' repo taking > 3 weeks; 'unpacked' replication delayed by >12 hours multiple times (31 Aug, 1 Sep) during manual repo verification
- SDCC: detection and repair of services, hosts broken over holiday weekend by [power outage](https://docs.google.com/document/d/1lN3ecdxtEg7844ZYnUMmy02exyd_A3T0NPoRU9G7Ag4/edit?usp=sharing) last Friday afternoon (29 Aug 2pm)
  - CVMFS: repositories that were replicating when the power was cut were corrupted, required manual repair
  - Belle II: [CDB Web](https://cdbweb.sdcc.bnl.gov/) web-based conditions data site did not survive power outage, required manual intervention to revive
    - hosting server, flask service fine after reboot, but httpd service had been disabled, did not start
  - Belle II: backup conditions database services did not come back online, required intervention to Kubernetes and Docker pods
  - sPHENIX: calibration database services deployment required intervention to move OpenShift pods off of non-functioning worker nodes (Ruslan, Chris P.)
  - SDCC: authentication scripts failed to sync user tokens between IPA and PIdea: created two tokens for one user and lost another user's token; required manual clean-up (Louis)
  - SDCC: web services [acode-browser](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38366), internal [old webdocs](https://old-webdocs.racf.bnl.gov/) stopped working after power failure
    - iptables, httpd, pound, ssh service configuration issues on both hosts, caused by Puppet turned off (not disabled) for several years and running on reboot (Joe, Christian)
      - permanent pound config fix [added](https://webdocs.sdcc.bnl.gov/cgit/puppet/catalog/diff/?id=b02cfd5320357c3b56d6aae9120b353121a00239&id2=ac973524867e630d53a1d2efda63f928ad3d2525)
- SDCC: negotiating potentially disruptive cyber scans on CVMFS core hosts with Shigeki
- SDCC/CVMFS: problem on sphenix WNs with conflicting CVMFS package repos on nodes upgraded during 29 Aug power outage (Oszkar, Costin)
  - [fix in puppet](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/938/) to specify package file name and block OSG repo for CVMFS packages 
- SDCC: removed future EIC PD project time from reported FTE (Alexei)
- SDCC: info meeting with STAR on possible Gitea hosting and features (Shigeki, James, Louis)
- SDCC: review of earlier [pull request](https://github.com/BNLNPPS/nopayloaddb-charts/pull/23) to sPHENIX Nopayloaddb deployment to correct failed pod deployments on specific OpenShift worker nodes
- BNL: renewed expiring [Responsible Property Management training](https://training.bnl.gov/Portal/TQ-PROPERTY) via [challenge exam](https://training.bnl.gov/Portal/TQ-PROPERTY-CE)
- BNL: holiday (1, 1 Sep)

# 25-29 Aug
- ATLAS: VO, IAM user management, questions, troubleshooting
  - at the moment, none of the other VO admins seem to be vetting and processing new membership requests
- ATLAS: revival of ADC Technical Meeting; first meeting on [storage (25 Aug)](https://indico.cern.ch/e/1575970)
- ATLAS/WLCG: AuthZ working group to release working token profile version [as v1.1](https://indico.cern.ch/event/1577261/?note=344269)
- Belle II: finalized, closed long standing [conditions access issue](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/data-production-shift/-/issues/382#note_1266978) caused by request overload from Trieste site 
- Belle II: no reported conditions client issues during last week's OpenShift network profile maintenance
- Belle II: post mortem for conditions migration to OpenShift [finalized](https://bnlbox.sdcc.bnl.gov/index.php/s/ZqebHmdrSAppwbt)
- Belle II: working on exported DDM Influx data to new Victoria Metrics and filling gaps in presented data
- Belle II/CVMFS: ACLs were lost/not transferred to new write nodes for experiment repos (Michel)
  - Fabrics team re-enabled ACLs, confirmed new write nodes (6,7) to replace existing multi-purpose nodes
  - Updated [docs](https://www.sdcc.bnl.gov/information/cvmfs-stratum-zero) with new node info
- BNL/ITD: complaints regarding new "external email" headers injected into all incoming non-BNL email messages (27 Aug, Chris C.)
  - ITD will not disable it, as it was added "for BOD 25-01 compliance"
- CVMFS: continued Stratum One reports from WLCG of impacted maintenance operations due to high NAS I/O
  - snapshot replication on 'ams' repo delayed 9 hours (23 Aug); manual verification process on 'unpacked' repo took > 2 weeks; 'unpacked' replication delayed by >12 hours multiple times (22,23,26,27,28,29 Aug) during manual repo verification
- CVMFS: working on adding new [Prometheus/VM exporter](https://github.com/cvmfs-contrib/prometheus-cvmfs) to clients [across all WNs](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/928) (Valentin, Costin)
  - one shared pool node (spool0604) core dumped continuously after installing exporter; turned out to be a bad node and unrelated to exporter
- SDCC/sPHENIX: closed [outstanding ticket](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38215) from last month on calibration database outage as solved with no new update, per Ruslan
- SDCC/sPHENIX: more work on checking and verifying CVMFS client and repo revisions after [last week's WN mess](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38295)) with Fabrics
- SDCC/ATLAS: problem with ATLAS software setup [reported](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38340) on Alma 9 WN
  - setup script must be declared as alias and and run as command on EL9 instead of sourcing setup script 
- SDCC: Jira administration of users, groups, project permissions, new permission scheme for Fabrics team for Farm Operations project (Tom)
- SDCC: user's Condor batch help request sent to old RHIC support email list, transfered request to [new RT ticket](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38345)
- SDCC: corrected and unified Nagios checks for experiment CVMFS read-only repos, and [fixed](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/934) CVMFS repo mount point issues for experiment write nodes (Ozskar, Costin)
 
# 18-22 Aug
- ATLAS: VO, IAM user management, questions, troubleshooting
- ATLAS/CVMFS: GGUS [cloud support ticket](https://helpdesk.ggus.eu/#ticket/zoom/1000385) on stuck `lastUpdated` file in ATLAS main repo (dated 4 Aug on 22 Aug)
- ATLAS/CVMFS: follow-ups with ATLAS Software and Computing Infrastructure Group to reduce or eliminate calls for CERN-only 'projects' repo in code outside of CERN (Attila, Dario, Asoka, Shuwei)
  - `LD_LIBRARY_PATH` and other vars contain references to external projects repo, should be checked and removed by ASetup
- Belle II: proactively declared conditions services "at risk" while OpenShift team applies improved networking profile to worker nodes (18-20 Aug)
- Belle II: data missing from Victoria Metrics import of Rucio accounting from InfluxDB not missing from Influx source (Cedric)
- Belle II: request to add partitioning to conditions database to separate requests for B2BII global tags [GitLab issue](https://gitlab.desy.de/belle2/software/cdb/operations/-/work_items/5)
- Belle II: KEK management delegation visit to BNL and data center (21 Aug)
- CVMFS: continued Stratum One reports from WLCG of impacted maintenance operations due to high NAS I/O
  - snapshot replication on 'ams' repo delayed 9 hours (16 Aug); manual verification process on 'unpacked' repo took > 2 weeks; 'unpacked' replication delayed by >12 hours multiple times (19,20,21 Aug) during manual verification
- CVMFS: follow-up discussions on bug report for client proxy switching and logging issues ([forum](https://cernvm-forum.cern.ch/t/client-proxy-switching-and-logging/569/2) and [Github](https://github.com/cvmfs/cvmfs/issues/3961))
- SDCC: mitigated complaints from NPPS about sPHENIX calibration database outage and support
  - support was discussed in email thread, [ticket opened in RT](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38288) evening of 14 Aug
    - I was out of office and unavailable on this day
  - planned GPFS maintenance caused deployment outage (pods write log data to GPFS) 
- SDCC: problem with SSH key upload file prevented users from adding new keys (Louis)
  - pointed out by user in new account request [ticket](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38300)
  - Kerberos key reinstated, time zone code issues identified and resolved
- SDCC: CVMFS, SSH client issues reported on WN farm by sPHENIX ([RT](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38295))
  - usual "stale" file revisions on pinned files reported; pinned files broken and repos force-remounted by WN admin, which had no positive effect
  - files remained "stale" until repos were remounted and cache cleared, leading to another RT ticket days later (#[38315](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38315))
- SDCC: follow-ups with Carahsoft, SHI on unautorized Jira seat subscription change, pending Jira subscription renewal (in Nov)
- SDCC: COmanage issue for high profile user with multiple accounts (Louis, RT#[38319](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38319)), MFA issue for lost OTP token (RT#[38320](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38320))
- BNL: location inquiry from Property Management on asset tracking for desktop (154209)
- BNL: 1 day out of office (medical leave, 20 Aug)
 
# 12-15 Aug
- ATLAS: VO, IAM user management, questions, troubleshooting
- ATLAS: BNL FTS needs updated activity shares settings to match CERN's ([GGUS](https://helpdesk.ggus.eu/#ticket/zoom/1000316), Hiro)
- ATLAS: Varnish testbed still flagged as vulnerable by BNL Cyber; deployment turned off until problem can be properly mitigated
- Belle II: initial review of new HSF nopayloaddb [documentation](https://bnlnpps.github.io/nopayloaddb/)
- CVMFS: working on alerts from WLCG monitoring during holiday of non-critical findings with multiple repositories
  - alarm-triggering entries cleared in local JSON files; manual checks triggered on lhcb and unpacked repositories; other critical warnings issued during OpenShift storage outage (6 Aug), Belle KEKCC downtime (1-5 Aug)
- CVMFS: debugging of excessive client proxy switching and log messages, results discussed in [Github issue](https://github.com/cvmfs/cvmfs/issues/3961) and [CVMFS forum](https://cernvm-forum.cern.ch/t/client-proxy-switching-and-logging/569/1)
- SDCC: sPNEHIX web host (spweb02) triggered Nagios httpd alert on home directory (in NFS)
  - planned GPFS maintenance caused loss of mount (Joe)  
- SDCC/NPPS: sPHENIX calibration DB/OpenShift [issue from July](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38149) closed as completed satisfactorily (Joe)
- BNL/CERN: reviews and edits to important paperwork
- BNL: 1 day out of office (14 Aug)

# 24 Jul - 11 Aug: holiday

# 21-25 Jul
- ATLAS: VO, IAM user management, questions, troubleshooting
- ATLAS/WLCG: review of [three new edits and pull requests](https://github.com/WLCG-AuthZ-WG/common-jwt-profile/pulls) to WLCG AuthZ WG Common JWT profile (storage scopes, VO/path authorization, token lifetimes)
- Belle II: edits and follow-ups to conditions service migration [post mortem document](https://docs.google.com/document/d/1Vbxb5VLT-Huwy4zzGRIr1qG1gtoBlKy97IW3BPMTc3Y/edit?usp=sharing)
- Belle II: review of DC [Docker compose file](https://gitlab.desy.de/belle2/computing/distributed-computing/developments/dockercompose-belledirac/-/blob/main/docker/cvmfs/stratum0/Dockerfile?ref_type=heads) for CVMFS server installation, BelleDIRAC [Docker installation and setup](https://gitlab.desy.de/belle2/computing/distributed-computing/developments/dockercompose-belledirac)
- Belle II: follow-ups with BNL GUV Center, ITD (request #INC0210959) for unprocessed BNL computing account for [Google Summer of Code](https://summerofcode.withgoogle.com/organizations/cern-hsf/projects) project participant: still waiting for computing access since 9 Jul with no update
  - computing account was granted immediately after the ITD request was opened to check its status (same day)
- Belle II: [shift report](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/data-production-shift/-/issues/606) of FTS server problems -- shifter was using old manual and checking non-production FTS servers 
- CVMFS: further [discussion](https://github.com/cvmfs/cvmfs/issues/3919), edits to patch and [merge request](https://github.com/cvmfs/cvmfs/pull/3920) to fix DNS lookups on server deployments
- CVMFS: continued Stratum One reports from WLCG of impacted maintenance operations due to high NAS I/O
  - snapshot replication on 'ams' repo delayed 12 hours (19 Jul); verification process failure on 'unpacked' repo (21 Jul)
- CVMFS: debugging of awstats upload issues for DESY Stratum One (Thomas H.)
- CVMFS: broken replication for all OSG-based repositories (22 Jul)
  - OSG OSDF, Kubernetes outage brought down CVMFS replica server, replication operations, centralized monitoring checks
- SDCC: final [PD request](https://brookhavenlab.sharepoint.com/:p:/r/sites/PDFY25EICComputing/_layouts/15/Doc.aspx?sourcedoc=%7BAF44DA19-C212-4138-BA92-DB12F25DA4AE%7D&file=FY26%20PD%20EIC%20Computing%20A.Klimentov%20July%2021%20Final.pptx&fromShare=true&action=edit&mobileredirect=true) submitted for EIC computing for FY '26 (Alexei)
- SDCC: User Services discussions on Puppet code exceptions needed for NX (dnsmasq, Nagios disk checks)
- SDCC: James fixed broken Cobbler syncs by adding `no-fail` flag to sync runs -- ignores single repo failure and continues sync instead of abort
- SDCC: more problems with sPHENIX calabriation database deployment in OpenShift, [reported by Chris P](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38215)
  - all pods deployed on two OpenShift worker nodes (01 and 09) failed to initialize and entered termination loops
  - added those WNs to ban list for pod deployment, created [merge request](https://github.com/BNLNPPS/nopayloaddb-charts/pull/23) for change (don't have privileges to merge into main branch)
  - adequate monitoring of deployment is still an issue. closed [older ticket](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38113) for same problem.
- BNL/CERN: private matter discussions with BNL legal and CERN representatives
- BNL: vacation days (1.5: 24-25 Jul)

# 14-18 Jul
- ATLAS: VO, IAM user management, questions, troubleshooting
   issues with user certificate DN mismatches in IAM and Rucio; [sync script](https://atlasdistributedcomputing-live.web.cern.ch/ATLASDistributedComputing-live/rucio-account-inconsistency.CMD) deleted mismatched certificate DN from Rucio mapping
- ATLAS: follow-ups to GGUS ticket on Varnish test deployment: still waiting for BNL Cyber Security vulnerability clearance (Robert, Shigeki)
  - CS complains that Varnish forward-proxies requests to outdated, vulnerable Tomcat version running Frontier at CERN
  - ATLAS added the deplloyment to their VP queue (without informing me), which is unacceptible in its current state (no logging, cyber vulnerability)
    - discussions about deployment, and removal from ATLAS VP queue, setup for alternative Frontier with updated, non-vulnerable Tomcat version (Ofer, Ivan)
    - more discussion in corresponding [GGUS ticket](https://helpdesk.ggus.eu/#ticket/zoom/3795)
- Belle II: testing Vistoria Metrics export of Belle II DDM accounting data in InfluxDB (on old ELK server)
  - 24h data export caused 98% CPU load on Influx/ELK server (gs-elk01) for several hours
- Belle II: new 538 TB disk cache (60*12TB, 3GB/s) added to HPSS tape array (Tim)
- Belle II: KEK campus-wide power outage 1–5 Aug; computing systems to be paused
- Belle II: mid-term evaluation for [Google Summer of Code](https://summerofcode.withgoogle.com/organizations/cern-hsf/projects) project for [HSF conditions database logging](https://summerofcode.withgoogle.com/organizations/cern-hsf/projects/details/bD4yyXz6)
- Belle II: network interfaces for conditions deployment on OpenShift need IP changes, move to LHCONE network, add IPv6 addresses in August (Hiro, Mark L.)
- Belle II: COmanage, OpenShift group permissions for Michel to grant access to Belle II deployments
- BNL: Jira purchase requisition (#0000467357) from 2019 re-opened to reconcile discrepency of $105 between billing and payment (Donna)
- CVMFS: opened [bug report](https://github.com/cvmfs/cvmfs/issues/3919) on excessive DNS lookups by Stratum One (~2M/day), many failures and lookups on remote short hostnames without FQDNs (Costin)
- CVMFS: follow-ups with CERN service admins on adding IPv6 interface to Stratum Zero hosts available on LHCOPN (Fabrizio)
  - CERN investigating historical reasons for current IPv4-only architecture, feasibility of adding v6 
- SDCC: BNL ITD Red Hat Satellite sent 44 new "pending task" notifications to SDCC staff over weekend (Joe investigating)
- SDCC: follow-ups on broken EIC Ceph nodes and error log flooding (Shigeki)
- SDCC: VAST storage installation for EIC computing PD delayed due to lack of networking connectivity
  - PD now being charged $10-15k for network installation (Shigeki)
  - update 16 Jul: installation will be delayed >= 1 month due to lack of fibre, other network equipment
- SDCC: additional Dell node purchase authorized for integration into OpenShift as worker node for EIC monitoring PD, adding resilience to deployments (Alexei, Robert)
- SDCC: input to EIC computing PD proposal for FY'26 (Alexei)
- SDCC: troubleshooting of broken Nagios service (nagios01) due to Puppet changes (Joe)
- SDCC: issues with [Drupal content access](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38195) for US ATLAS web site, [other Drupal issues](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37144) (Christian)
- SDCC: created procedure for adding custom disk check arguments to Nagios to avoid checking invalid paths and triggering false alerts on NX hosts
- SDCC: STAR meeting (Shigeki)
- SDCC: found that Puppet [was broken](https://foreman.sdcc.bnl.gov/config_reports/19650378) on all NX hosts
  - dnsmasq was replaced facility-wide earlier in the week with unbound; dnsmasq package could not be uninstalled by Puppet due to ovirt package dependencies by NX
  - puppet change was [backed out](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/867) since it's already live everywhere but NX (Costin)
- BNL: began travel process to attend [Belle II General Meeting](https://indico.belle2.org/event/15881/) and computing workshops, Sep-Oct 2025 (15 Jul)

# 7-11 Jul
- ATLAS: CERN IT-ASDF [meeting](https://indico.cern.ch/event/1557048) on [monitoring improvements](https://indico.cern.ch/event/1557048/contributions/6556806/attachments/3100020/5496160/From%20InfluxDB%20to%20Prometheus%20&%20The%20Monitoring%20Grafana%20Catalogue.pdf) with Monit, Grafana, InfluxDB, Prometheus
- ATLAS: VO, IAM user management, questions, troubleshooting
  - preparation for ATLAS SW tutorial (14-18 Jul) increased VO and group membership requests, troubleshooting
- ATLAS: follow-ups to Varnish test deployment: still waiting for BNL Cyber Security vulnerability clearance (Robert, Shigeki)
- ATLAS: follow-ups to ATLAS ADC and SCI to cease ATLAS jobs requesting (and failing) to access CUDA outside CERN in non-distributed CVMFS 'projects' repo (Attila)
- Belle II: continuing work on debugging, correcting, tuning conditions services on OpenShift deployment, mitigating high load on DB 
  - high idle socket count, waiting connections correspond with high load (100% CPU) on attacned NetApp appliance for associated payload NFS share
  - edits and comments on project [Lessons Learned](https://docs.google.com/document/d/1Vbxb5VLT-Huwy4zzGRIr1qG1gtoBlKy97IW3BPMTc3Y/edit?tab=t.0) report
  - replica DB server was not designed for production load, still running network interfaces at 1400 MTU, requires shutdown and migration to activate updated OpenShift network profile for 1500 MTU
  - multiple bug fixes and optimizations to basf2 to improve conditions use in [Joint Data Production/Software/Computing meeting](https://notes.desy.de/MZE9jQ0xQoGAuxOnbhvh_A?view#ConditionsDB-in-Basf2-updates)
  - SW [merge request](https://gitlab.desy.de/belle2/software/basf2/-/merge_requests/4387) to use CVMFS as primary metadata provider over remote conditions service (Giacomo)
- Belle II/HSF: HSF/IRIS-HEP Training [Hackathon](https://indico.cern.ch/event/1565267/) for [databases, monitoring, conditions access](https://github.com/hsf-training/hsf-training-databases-basics/tree/main)
- Belle II/HSF: Google Summer of Code Belle II HSF CDB 2025 [progress meeting](https://meet.google.com/wuw-ebre-zfq) (9 Jul)
  - BNL registration for Google Summer of Code participant for HSF database logging project finally approved 10 Jul (4 weeks)
  - midterm evaluations due next week
- Belle II: HTCondorCE gatekeepers need to be updated: backup next week, primary in August (Hiro, Fabrics team)
- CVMFS: continued Stratum One reports from WLCG of delayed maintenance operations due to high NAS I/O
  - snapshot replication on 'unpacked' repo delayed 12 hours (6 Jul) 
  - garbage collection delayed on 'cernvm-prod' repo for 22+ days (14 Jun); delayed on 'sphenix' repo for 14 days (6 Jul)
  - CernVM-FS bug fix version 2.13.1 [released](https://cvmfs.readthedocs.io/en/2.13/cpt-releasenotes.html#release-notes-for-cernvm-fs-2-13-1), can not be updated from currentl EL7 final version until servers can be upgraded to >= EL9
    - CVMFS release package using [new signing key](https://github.com/cvmfs/cvmfs/blob/devel/packaging/rpm/RPM-GPG-KEY-CernVM-2048) for >= EL10 packages and `cvmfs-release` >= v6-2
- CVMFS: increased DNS masquerade cache size on Stratum One server to reduce excessive DNS client lookup logs (Costin)
  - default dnsmasq cache size is 150, had already been increased to 5k, max size is 10k, which does not greatly improve lookup caching
- SDCC: BNL ITD Red Hat Satellite upgrade triggered ~100 "pending task" notifications to SDCC staff (Joe investigating)
- SDCC: dicussions on charging the EIC computing PD for network equipment for storage servers (Shigeki, Alexei)
- SDCC: continued configuration of ATLAS Varnish test deployment in OpenShift
  - continued security discussions related to remote content (Shigkei)
- SDCC: Rancher Government Solutions (RGS) virtualization platform meeting, discussion ([slides](https://creynoldslides.s3.amazonaws.com/creynold_master_pdf.pdf), [docs](https://fleet.rancher.io/))
- SDCC: User Services discussions on coredump configuration and handling, baloo file indexer service disabling for NX hosts, NX maintenance scripts and cron configuration, NX Nagios alerts, Prometheus node exporter and PostgresQL monitoring, retiring unused Grafana development instance
- SDCC: initiative to clean up and reorganize Grafana dashboards across staff and services (Costin, Jane)
  - sPHENIX overview dashboard reported as lost/deleted by Jin, restored by Costin
  - cleanup, relocation of Belle II DDM transfers and deletions dashboards and revisions (Cedric)
- SDCC: initiative to get broken, abandoned Ceph pods running on abandoned EIC servers shut down, stop spamming facility logging with errors (Costin)
- SDCC: critical Grafana [vulnerabilities](https://grafana.com/blog/2025/07/02/grafana-security-update-critical-severity-security-release-for-cve-2025-5959-cve-2025-6554-cve-2025-6191-and-cve-2025-6192-in-grafana-image-renderer-plugin-and-synthetic-monitoring-agent/) in installed Chromium-based image-renderer plugin confirmed, addressed via upgrade (Ofer, Louis)

# 30 Jun - 4 Jul
- ATLAS: VO, IAM user management, questions, troubleshooting
  - CERN SNOW tickets on VO group membership [RQF3242192], coordinated with 'team' VO management for approvals (Armen); users unable to add their own certificates [INC4563689]
- ATLAS: more work and follow-ups on Varnish test instance in OpenShift; [GGUS ticket opened](https://helpdesk.ggus.eu/#ticket/zoom/3795/) on monitoriing deployment ; BNL CS still complaining about vulnerability in remote Frontier service at CERN
- ATLAS/WLCG: [DOMA meeting](https://indico.cern.ch/event/1556884/) on IPv6 monitoring, Rucio based tape RSE backups
- ATLAS/Belle II: FTS issue [reported by ATLAS](https://helpdesk.ggus.eu/#ticket/zoom/3843): servers ran out of disk; fixed by Hiro
- Belle II: continuing extensive debugging of conditions services migrated from RHEV to OpenShift
  - many changes made to deployment; progress and fixes tracked [here](https://docs.google.com/document/d/1y_2Vbh91yy0Eh2gzy6alxEEccGM361-bYebq8H-h40Y/edit?usp=sharing)
  - SW team [fixed](https://gitlab.desy.de/belle2/software/basf2/-/merge_requests/4467) problem with basf2 client: full list of conditions GTs was being used as a server status check, instead of GT status, which is a much smaller and static return
- Belle II: user reports of conditions payload upload problems [Gitlab](https://gitlab.desy.de/belle2/software/cdb/operations/-/issues/4)
    - user's payload file upload size was too large; nginx file upload limit increased to 100M
    - average size of all payloads is 58K; largest payload is 732M (ARICHAsicInfoRoot,added in 2016) 
- Belle II: configuration changes to DIRAC (on bldiracvm10) to increase max connections, buffer pool size (Hideki, Hiro)
- Belle II: negotiation of cache TTL for conditions metadata and payloads for Calibration workloads, decided on 5 minutes base TTL (Giulio, Ruslan)
- Belle II: reinstallation of TSM scheduler on conditions database host to address failed TSM tape backups of production conditions database (Tim)
- SDCC/NPPS: [problems reported](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38160) with sPHENIX calibrations database in OpenShift deployment, likely connecctions to back end blocked by NGINX pod (Chris P, Ruslan)
- SDCC: chaired and [recorded minutes](https://docs.google.com/document/d/1OGr2SvrQe7CKvmEhnTRXCYelRFTAIXa-AueFKk19HyM/edit?tab=t.0#heading=h.7lfmdwuoz63a) for EIC computing PD monthly meeting
- SDCC: more problems with sPHENIX HSF CDB [reported by experiment](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38151), fixed by Ruslan
- SDCC: Frontier Squid hosts for CVMFS and Frontier return IPv4 IPs by default, even though they are dual stacked with IPv6 interfaces as well (Hiro)
- SDCC: iterated monitoring deliverables for EIC PD FY 25 projects, plans for possible FY 26 PD (Louis)
- SDCC: Foreign travel process improvement meeting
- SDCC: issues with IDM/IPA/PrivacyIdea service, hosts, and Nagios checks (Louis)
  - details added to outstanding [Jira ticket](https://racfjira.atlassian.net/browse/SSO-90)
- SDCC: with Louis, adding PostgresQL and Prometheus monitoring support to back end Belle II conditions database hosts (primary and replica)
  - debugging of Belle II conditions database ACLs and user access configurations
- BNL: follow-ups on user registration for Google Summer of Code participant; no news from GUV Center since my approval on 13 Jun
- BNL: renewed expiring Privacy Awareness (TQ-PRIVACY) training qualification via [challenge exam](https://training.bnl.gov/Portal/TQ-PRIVACY-CE)
- BNL: holiday (1, 4 Jul)

# 23-27 Jun
- ATLAS: VO, IAM user management, questions, troubleshooting
- ATLAS: working to [remove service proxies from personal accounts](https://indico.cern.ch/event/1509488/) in IAM (Petr)
- ATLAS: more vulnerabilities flagged by BNL Cyber in Varnish test bed in OpenShift, all related to Tomcat (hosted at CERN)
  - provided updated information for potential vulnerability exclusion 
- ATLAS/WLCG: Open Technical Forum #5 on Kubernetes (24 Jun)
- ATLAS: complaints about CVMFS slowness in builds by SW, CI, Dev teams [SW Infra Jira ticket](https://its.cern.ch/jira/browse/ATLINFR-5763)
  - slowness due to unreasonable expectation of large file support (<=32GB) in CVMFS builds; CVMFS cache's strenth is distribution of small files
- ATLAS/WLCG: complaints about IPv4-only traffic between BNL CVMFS servers and host at CERN (zero-lcg01.cern.ch) over LHCOPN (Hiro, Shawn)
  - host is v4 only due to historical deployment, CERN plans to update to dual stack soon (Fabrizio)
- Belle II: disruption in production conditions metadata services due to high request load (1:30-2:45 23 Jun)
  - complaints from Calibration group on timeouts for large global tag downloads
- Belle II: conditions services migrated from RHEV to OpenShift on Wed 25 Jun
  - more heavy functional and load testing before move
  - MTU of backend DB interfaces still set to 1400, required change in OpenShift and reboot of host to correct
  - coordination of changes to OpenShift deployment, ITD DNS alias changes, deployment changes and fixes, testing from all B2 teams
  - Authenticated token transfers only working via token isser web site, failing via CLI 
  - Continued extensive debugging and troubleshooting of OpenShift deployment (with Ruslan), considering rolling back to RHEV VM instances
- Belle II: still debugging problems with site cache at IHEP and conditions access from other nodes
  - job submission (Condor) at IHEP not yet configured to accept `BELLE2_CONDB_PROXY` var into job env 
- Belle II: edits to [DDM site accounting dashboard](https://monitoring.sdcc.bnl.gov/pub/grafana/d/ddm-site-accounting-dev/ddm-site-accounting) to fix broken queries after Grafana upgrade, match internal instance changes to public dashboard (Cedric)
- Belle II: more issues with delayed, failed TSM tape backups of production conditions database (Tim)
- CVMFS: continued Stratum One reports from WLCG of delayed maintenance operations due to high NAS I/O
  - garbage collection on CMS repo delayed 14 days (7-21 Jun), delayed on cernvm-prod repo for 10+ days (14-24 Jun)
  - snapshot of AMS repo delayed 8 hours during repo garbage collection and subsequent repo verification, required manual sync (27 Jun)
- CVMFS: problems with auto-mounts on builds of new EL9 write hosts (Costin)
  - Old Farm team code [explicitly blocked](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/819) auto-mount of some NFS mount points
- SDCC/Physics: STAR Drupal/Invenio/Phonebook meeting
- SDCC: User Services discussions on Puppet code for web proxies, Mattermost code updates and DB migration to PostgreSQL
- SDCC: tracking down outstanding Puppet host certificate signing requests for two old Farm/Fabric nodes (Jason)
- BNL: CDS Directorate all-hands meeting (24 Jun)
- BNL: entered and submitted goals for FY25
- BNL: vacation (1, 27 Jun)

# 16-20 Jun
- ATLAS: VO, IAM user management, questions, troubleshooting
- Belle II: more extensive load and functional testing of new OpenShift [metadata](belle2db-test.sdcc.bnl.gov) and [payload](belle2db-files-test.sdcc.bnl.gov) test endpoints before rescheduling migration from RHEV VMs
  - requests to B2 user and admin communities to validate endpoints
  - tentative plan to migrate to OpenShift next week
- Belle II: [slides](https://docs.google.com/presentation/d/1QdcfnJ3GKQcASjlLVGBg8qI5iOB_1QN1F0pJ4CzmbgQ/edit) and contributions to talks on conditions services at B2GM (remote, not present)
- Belle II: investigated issues with failed conditions database backups to tape (Tim)
  - backups running via >13yo adsm script
  - NDMP tape drive mapping broke backups for some systems
- CVMFS: continued Stratum One reports from WLCG of delayed maintenance operations due to high NAS I/O
  - unpacked repo replication delayed 22 hours due to garbage collection (15 Jun)
- CVMFS: still missing repo statistics on data storage since disabling `du` on servers, NetApp partitions a month ago (Joe)
  - NetApp OnTap data analytics running for 1 month, processed about 50% of repository directories
- SDCC: discussions on monitoring, NX Puppet code and approval workflow
- SDCC: EIC monitoring PD purchases dispatched: VAST storage may arrive next week; Dell/Storehouse CPU shipment also in progress
- SDCC: issues found with dashboards on production Grafana instances after recent software upgrade (Cedric/B2)
  - lucene queries with conditions changed syntax, now require quotes around keywords and parentheses around condition tests
- SDCC: sPHENIX [reported another issue](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38113) with OpenShift calibration database deployment
  - client requests timeout, retry, accumulate
  - pod deployments to one particular OpenShift worker node (worker00) result in failed connections; no failures in pods on other nodes
  - extensive debugging of OpenShift pods, connections, workers (with Rob, Tommy, Ruslan)
  - client reads working now without issue; write pileups occuring in some situations (unrelated to OpenShift)
- SDCC: two Globus issues reported by users in RT tickets, info routed to experts
  - confirmed all requests to "SDCC" collection pointing to 'dtn03' end point time out 
- BNL: all-hands meeting (16 Jun)
- BNL: holiday (1, 19 Jun), vacation (1, 20 Jun)

# 9-13 Jun
- ATLAS: VO, IAM user management, questions, troubleshooting
- Belle II: continued issues with production conditions service: 20 minute interruption of metadata access due to high load (5:00-5:20 am 9 Jun)
  - found 430k requests for single payload file (`BeamSpot_rev_126118`) in one week (8-13 Jun) made directly from DESY batch nodes (131.169.162.0/24 // batchnnnn.desy.de)
- Belle II: confirmed fixes to KEKCC squid causing conditions data payload download failures from KEK, [closed reported issue](https://gitlab.desy.de/belle2/software/cdb/operations/-/issues/3)
- Belle II: plans to finally migrate conditions services from RHEV VMs to OpenShift pod deployment (11 Jun)
  - DNS change routing needs to be understood, coordinated with ITD, OpenShift admins
  - BNL Condor CE testing finally working on BNL WNs with proper requirements and job settings
  - migration plans *postponed* due to lack of necessary domain level redirection handling in OpenShift instance, added by Rob later in the week by adding dedicated haproxy deployment in front of conditions deployment to terminate incoming connections at the *.sdcc.bnl.gov comain level
  - extensive testing of new haproxy deployment and test endpoints, debugging of condor queues and job failures, debugging of B2 Software test code
  - reports on OpenShift infrastructure status and progress to inqueries from BNL B2 management
- Belle II: completed software documentation survey, provided additional feedback
- Belle II: responded to [shifter ticket report](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/data-production-shift/-/issues/563) of broken FTS service dueo to BNL OpenShift issues
- Belle II: Software team will (finally) [change client code](https://gitlab.desy.de/belle2/software/basf2/-/merge_requests/4387/diffs#b8206999df3b296f920873c0221ff4a941ff951d) to check CVMFS cache for conditions data files before hitting the central conditions data service
- Belle II: KEK announced annual summer downtime dates:
  - KEK campus-wide power outage 1-3 Aug
  - KEKCC down 1 Aug 9:00 - 5 Aug 17:00
  - additional network interventions 8 Jul (13:00-17:00, 90m per network switch)
- Belle II: follow-ups on possible issues with TSM tape backup of conditions database data and backup files (Tim) 
- Belle II: working with site admins at IHEP to setup and configure cache for conditions requests
- Belle II: logistics set up for collaboration with Google Summer of Code HSF Database Logging project participant (Google Chat, BNL and SDCC user accounts, Overleaf for IEEE paper)
- CVMFS: continued Stratum One reports from WLCG of delayed maintenance operations due to high NAS I/O
  - unpacked repo replication delayed 22 hours due to garbage collection (8 Jun)
- SDCC: more issues with Grafana monitoring of Belle II production conditions services, data dropped and lost due to overpopulated indices
  - host doesn't have enough memory to support quantity and voume of required indices (`"circuit_breaking_exception", "reason"=>"[parent] Data too large, data for [indices:data/write/bulk[s]"`), continuously runs out of disk space
  - added more memory to OpenSearch cluster replacement, remove or correct broken Logstash index configurations (Louis)
  - updates to [two-year-old RT on broken ELK service](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=36357) (never addressed by responsible group or leads)
- SDCC: investigation, recovery, testing of loss of hosts, services caused by OpenShift outage (9 Jun)
  - failure due to LACP network link issue between OpenShift cluster and NetApp appliance hosting OpenShift (and RHEV) VM images after NetApp software upgrade
- SDCC: manually modified firewall rules on backend web database server (adminweb01) for Dong's new IC submit host access, because Puppet is broken and stopped on server
- SDCC: discussions with Shigeki (ISSO), Cyber on logging requirements and expectations from facility hosts and services
- SDCC: added US ATLAS WBS 2.3.1.5 milestones for CVMFS, monitoring (Alexei)
- BNL: completed [Hosting and Escorting Foreign Nationals training](https://training.bnl.gov/portal/TQ-SEC-FN) in preparation of serving as international host for Google Summer of Code HSF Database Logging project participant (Osama)
  - reviewed Osama's guest registration and guest security plan for approval
  - reported issues with GUV center list of departments, listed admins for guest registration
- BNL: re-review and approval of master property record for workstation (00014438) due to department/building move to b.725 (April S.)

# 2-6 Jun
- ATLAS: VO, IAM user management, questions, troubleshooting
- ATLAS: ADC seems to be moving full steam ahead with transitioning conditions data cache from Squid to Varnish (ADC Weekly [talk](https://indico.cern.ch/event/1530289/contributions/6438639/attachments/3079712/5450924/ADCweekly-ConditionsDataCachingVarnish.pdf))
  - attended [WLCG Operations Coordination meeting (5 Jun)](https://indico.cern.ch/event/1554526/) to contribute to Varnish, Squid, Frontier, CVMFS discussions
- Belle II: moving forward with plans to replace current production conditions VMs with OpenShift deployment
  - working with OpenShift team to resolve issues with persistent volumes and claims, resource shortfalls on some worker nodes, adding resource requests and anti-affinity, settings to deployments to avoid hosting issues, discussions on adding improved OpenShift logging and export so service monitoring can be established
  - more testing of new deployment from BNL WNs via condor, jobs still being held by condor CE for unknown reason
- Belle II: [Gitlab ticket](https://gitlab.desy.de/belle2/software/cdb/database/-/issues/3) on understanding basf2 requests for conditions payload metadata, and reworking requests to reduce returned data size
- Belle II: discussions with IHEP admins to determine source of conditions requests from NAT with no external DNS records, clients with internal DNS IP records, requested NAT traffic go through squid cache to reduce repeated conditions queries
- Belle II: continued [debugging of KEKCC squid](https://gitlab.desy.de/belle2/software/cdb/operations/-/issues/3) to find imbalance between squid caching behavior, config differences between cache instances
- Belle II: debugging of idle, held jobs on BNL WNs with Fabrics team, incorrect `FileSystemDOmain` value being set by condor and passed to jobs
  - wrong condor accounting group was being set for my B2 jobs ('bellepro' instead of 'group_belle.prod'), preventing successful job submission
- Belle II: confirmation and fix of incorrect TSM settings for conditions database archive backups, with HPSS team
- Belle II: KEK campus-wide network interventions will intermittently affect access to and from all buildings and subnets except LHCONE (26 Jun - 16 Jul)
- CVMFS: continued Stratum One reports from WLCG of delayed maintenance operations due to high NAS I/O
  - unpacked repo replication delayed 21 hours due to garbage collection (1 Jun)
- CVMFS: v2.13 [released](https://cvmfs.readthedocs.io/en/2.13/cpt-releasenotes.html) with bug fixes and new features
  - BNL instances (server and replica) can not be upgraded from 2.11 & 2.12 without RHEL9 infrastructure migration support
- CVMFS: [request from STAR](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38032) to use sPHENIX's CVMFS EL9 write hosts and add their build management user there
  - sPHENIX prefers to have one legacy EL7 write host upgraded to EL9 for sharing with other experiments
- SDCC: more rterm script changes [requested by sPHENIX](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37955#txn-1136148): outdated 'sphnx' node names to be replaced by new 'sphnxuser' nodes
  - pushed code fix to EL8/9 puppet repo with [new merge request](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/776)
  - also pushed EL7 puppet repo code fix and [new merge request](https://webdocs.sdcc.bnl.gov/cgit/puppet/catalog/diff/?id=93e01e5e5a12dfc591806f54b3360b9e4c4abe87&id2=cae6436412b2a12f933203b820f630d6a6ad83fe)
- SDCC: chaired and annotated EIC Computing PD meeting ([3 Jun](https://docs.google.com/document/d/1OGr2SvrQe7CKvmEhnTRXCYelRFTAIXa-AueFKk19HyM/edit?tab=t.0#heading=h.a87p2bm199zj))
- SDCC: issues found with Drupal instance for facility site: users, roles, ACLs corrupt and broken; temporary fix to give all staff users admin level privileges so they can access staff-only protected content (which is a horrible way to fix this)
  - all Drupal instances also need security updates
- SDCC: [policy discussions](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=38044) involving ex-staff and appropriate privileges in RT tickets and queues
- SDCC: EL7 Nagios broke (5 Jun 13:15) due to failed check of NSLS2's Jira service
  - puppet and firewall turned off on NSLS2 Jira host 90 days ago, triggering purge of NSLS2 Jira host from our puppetdb
  - broken check [removed from EL7 puppet code](https://webdocs.sdcc.bnl.gov/cgit/puppet/catalog/commit/?id=67b245012fc90adfb034dcc88edd527d54d555a4), Nagios service restored
- SDCC: User Services discussions on Drupal sites, monitoring projects, NX issues, rterm script issues, user accounts and MFA issues
- SDCC: trying to get through a Red Hat OpenShift administration video course, without distractions and facility issues (impossible)

# 26-30 May
- ATLAS: global production and analysis outage due Rucio failure ([CERN SNOW](https://cern.service-now.com/service-portal?id=ticket&n=INC4489658))
  - k8s routiing initially blamed, but actual cause was distrosync upgrade of bird package and failed daemon reload
- ATLAS: VO, IAM user management, questions, troubleshooting
  - debugging of more reported user issues with certificate authentication and registration
    - users who log into IAM without authenticating via x.509 (or don't have certificate installed) are unable to add certificates to their memberships
- ATLAS: debugging of WLCG token request and issue process for OIDC clients and storage (with Hiro)
- ATLAS: more debugging of Varnish deployment in OpenShift
  - fielding Cyber inquiries on deployment: remote Tomcat service at CERN flagged as vulnerable; CERN claims false positive
  - service now available for small-scale testing via [new external DNS alias](http://atlas-varnish.sdcc.bnl.gov:6082/)
- Belle II: more work with KEKCC on their site cache and access to conditions data
  - issues reported by KEKCC users connecting to conditions data [via KEKCC local site cache](https://gitlab.desy.de/belle2/software/cdb/operations/-/issues/3#note_1225062)
  - recurance of config issues from two years ago: DNS alias published IPv6 address, with no IPv6 interface available; IPv6 traffic being forced through NATs instead of cache as intended; conditions file alias missing from destination ACLs
- Belle II: more work with Software, Calibration, Distributed Computing to [add more global tags](https://gitlab.desy.de/belle2/admin/buildbot/-/issues/11) to CVMFS to improve conditions performance
- Belle II: basf2, DIRAC issues affecting job submission and management, requires central downtime for job drain and reboot (27-28 May)
- Belle II: issues with conditions access dashboard showing invalid data, some data missing (ELK, Grafana, Grafite)
  - continued disk space issues with production ELK servers, ElasticSearch shard mislabeling and deletion of data
- Belle II: [cdbweb web service](https://cdbweb.sdcc.bnl.gov) host moved from RHEV to OpenShift after AFS support addded to OpenShift (Joe)
- CVMFS: sPHENIX client issues [reported again](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37976) on WN (sphnx1513)
  - same as previous reports: client and cache functioning normally, threads with open file handles could not refresh catalog or file content; new threads should get updated catalog and content
  - still unclear why [incident in April](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37923) may have been different than normal operations (entire WN cache may have been frozen)
- CVMFS: reported issues with ATLAS condor submit host (attsub01)
  - user reported issue was expected behavior (empty mount point until file read request made); other possible issues present, but no trace of problems after WN was rebooted (Tom)
- CVMFS: continued Stratum One reports from WLCG of delayed maintenance operations due to high NAS I/O
  - unpacked repo replication delayed 22 hours due to garbage collection (25 May)
- SDCC: issues with LDAP/IDM server (idm05)
  - high load, ns-slapd using 800% CPU, NTP fell behind (27 May)
- SDCC: continued issues with production ELK servers (gs-elk0{1,2})
  - low disk space warnings every few hours (25-26 May)
- SDCC: another power outage in b725 data center took out one row of WNs (notified by Networking in Matttermost, documented in [Jira](https://racfjira.atlassian.net/browse/OPS-223))
- SDCC: extensive review of NX deployment code, worked with Saroj to prepare test branch and merge code [into production](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/760)
- BNL: renewed expiring Working Safely in the 725 SDCC Data Center ([AO-SDCC725](https://training.bnl.gov/Portal/AO-SDCC725)) training
  - re-submitted list of course problems and fixes to training team (also done two years ago)
- SDCC: discussions on logging policies and volume vs. Cyber's expectations (Shigeki)
- BNL: holiday (1, 26 May), vacation day (1, 30 May)

# 19-23 May
- ATLAS: VO, IAM user management, questions, troubleshooting
  - users still having problems adding their own x.509 certificates (default encoding/formatting not accepted by IAM)
- ATLAS: further work on Varnish deployment, service and image customization, network debugging, issues with service behind proxy
  - With Rob, working on OpenShift network routing for addressing internal proxy requirement for outbound traffic (Varnish does not easily handle proxy egress connections)
- Belle II: discussions with Distributed Computing on possible need for adding conditions proxy at BNL
  - not needed: BNL requests never overload conditions services like larger sites with more queue slots
- Belle II: shifter [reports](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/data-production-shift/-/issues/548) of FTS issues
  - shifters were checking old, retired FTS web status [pages](https://fts.usatlas.bnl.gov:8449/fts3/ftsmon/#/statistics/servers); shifter [docs](https://xwiki.desy.de/xwiki/bin/view/BI/Belle%20II%20Internal/Computing%20WebHome/DistributedComputing/Data%20Production%20Shifter%20Manual/#H6.FileTransferMonitoring) updated to point to new, upgraded [cluster pages](https://fts3.usatlas.bnl.gov:8449/fts3/ftsmon/#/statistics/servers)
  - shifter doc also moving from XWiki to [Gitlab wiki](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/data-production-shift/-/wikis/Data-Production-Shift-Manual)
  - Nagios still triggering critical alerts on retired servers being used for testing
- CVMFS: [another report](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37971) from sPHENIX about stale repo files in CVMFS client cache
  - expected behavior: client cache can not refresh data being accessed with active file handles
  - as before, manually killed existing file handles and cleaned cache to allow repo file updates
- CVMFS: continued Stratum One reports from WLCG of delayed maintenance operations
  - unpacked repo replication delayed 21 hours due to garbage collection (18 May)
- NPPS/SDCC: finalized interviews and panel evaluation for candidates for EIC computing PD NPPS staff [position](https://www.myworkday.com/bnl/d/inst/15$165509/5303$1327.htmld#TABTASKID=2998%2417245) (1 90+ minute interview slot, 16 May)
- SDCC: investigating eligibility of HSF Google Summer of Code contributor for approval of BNL, SDCC accounts, and OpenShift project access from Pakistan
  - Rob, Cyber: Pakistan is sensitive and will trigger SME review but should be approved if justified
- SDCC: followups on sPHENIX conditions and calibration database function and performance in OpenShift
- SDCC: quick review of Christian's GLPI agent Puppet [deployment code](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/736/files) -- disputed need to include systemd dependency, may cause resource conflicts
- SDCC: feedback, testing on Louis's new user and staff [web portal](https://useraccount-dev.sdcc.bnl.gov/) (new user form, SSH key management, announcements)
- SDCC: feedback on Louis's [MkDocs/Material test doc server](https://staff-docs.sdcc.bnl.gov/mkdocs/), comparison to previous [Hugo/Docsy deployment](https://staff-docs.sdcc.bnl.gov/)
- BNL: had to query Workday team to clarify conflated reporting of excess vacation balance numbers in multiple Workday views (with Ofer)
- BNL: vacation day (1, 26 May)

# 12-16 May
- ATLAS: VO, IAM user management, questions, troubleshooting
  - users can not easily add their own CERN x.509 certificates (default encoding/formatting not accepted by IAM)
  - management of phys-sm members (and its production group)
  - reviewed and approved many outstanding user and US group requests, some waiting up to two months without action
    - confirmed with US ATLAS management that production role request should be denied
    - contacted multiple users waiting for approval who never confirmed their membership requests (again waiting <= two months)
- ATLAS/WLCG: Varnish [workshop](https://indico.cern.ch/event/1546917/)
- ATLAS: further followups with infra team to expose Varnish deployment in OpenShift for outside testing
  - working with Rob on connectivity; rebuilt Ilija's Varnish repo as an docker/podman image; pushed image to OpenShift [Quay image server](https://bnl-sdcc-quay-quay-enterprise.apps.sdcc.bnl.gov/); dealing with issues (vulnerabilities, wrong default repo branch; build problems)
- Belle II: travel to Joint Computing, Data Production, and Software [workshop](https://indico.belle2.org/event/13885/) (and Sites Meeting) canceled hours before flight on Saturday
  - eCC to Germany not approved until day after scheduled arrival
  - remote talks, discussion on site report (Hiro), conditions services status and migration plans
  - after trip cancelation, received multiple "Frankfurt Accountability Drills" from safe.state.gov for response
- Belle II: finalist for Intelligent Log Analysis for the HSF Conditions Database project selected, approved by Google Summer of Code 2025 panel
- Belle II: working with some large sites to determine cause of considerable changes in conditions request rates
  - KEKCC increased Squid resources, may result in better caching, lower request rates (G.Iwai)
  - Looking into possible issues with INFN Squid and diminished performance, situation with Squid at CN-IHEP (Silvio)
- Belle II: massive spike in conditions requests lasting over several days
  - load caused gateway errors on local probes (15 May 00:07-00:27), timeouts for client requests
  - some users adding private GTs in production, creating payloads > 100MB in size
  - collective effort by Software, Data Processing, Computing teams to get heavily used payload files [moved into local CVMFS cache](https://gitlab.desy.de/belle2/admin/buildbot/-/issues/11)
- CVMFS: [issue reported](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37951) for OSG singularity repo on all EIC WNs
  - one node (0101) had hung CVMFS client, required file handle fix and cache repair; all other EIC WNs were fine
- CVMFS: continued Stratum One reports from WLCG of delayed operations
  - unpacked repo replication delayed 20 hours due to garbage collection (11 May)
- CVMFS: issues with client on Jupyter node (jupyter16)
  - node hung, no new sessions available
  - cache partition only 32G, connfigured as 50G, space 100% full
  - [bug report](https://github.com/cvmfs/cvmfs/issues/3832) to devs, seems reasonable to fix
  - adaptive local fix for WNs [by Costin](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/734) approved, pushed to production
- NPPS/SDCC: interview panel for candidates for EIC computing PD NPPS staff [position](https://www.myworkday.com/bnl/d/inst/15$165509/5303$1327.htmld#TABTASKID=2998%2417245) (1 90+ minute interview slot, 16 May)
- SDCC: [issues with sPHENIX conditions database calibration](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37904) seem related to OpenShift problems (MTU adjustments)
  - after OpenShift changes, sPHENIX production moved from OKD to OpenShift instance on 16 May, no issues seen since
- SDCC: sPHENIX internal elog service [broken](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37933) again
  - issue again caused by broken GPFS mount
- SDCC: unknown EIC/CNIPOL web site "[RHIC Polarimetry Results](https://www.cnipol.bnl.gov/)" [reported broken](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37937)
  - was hosted by Tom T. in Physics, moved to RHEL7 VM
  - also a broken GPFS mount, client was likely dead since VM was moved from RHEV to OpenShift a few months ago

# 5-9 May
- ATLAS: VO, IAM user management, questions, troubleshooting
  - issues with IAM synchronization with CERN HR DB after IAM update on 30 Apr should have fixed bug
    - accounts suspended before upgrade require manual setting of endTime parameter to eventually expire their inactive VO memberships
- ATLAS: followups with infra team to expose Varnish deployment in OpenShift for outside testing
- Belle II: investigating logging and graphing issues in production Grafana and ElasticSearch
  - conditions access plots timing out with ELK server as source
- Belle II: followups with infra team to configure test and prod payload storage in OpenShift, add computing team members to Belle II OpenShift project access lists
  - granted admin privileges for [COmanage membership](https://comanage.sdcc.bnl.gov/) -- can now manage OpenShift user and group access via COmanage 
- Belle II: working with sites to set up new caches
  - significant continued hits from node presumably in China (202.122.32.238) as well as Czech node (squid.farm.particle.cz)
- Belle II: management of [database-conditions list memberships](https://lists.belle2.org/sympa/info/database-conditions) on Belle II Sympa for bouncing subscribers
- Belle II: debugging of possible site problems, CVMFS client issues [at KIT site](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/data-production-shift/-/issues/539) (LCG.KIT-TARDIS.de), possibly Belle II jobs accessing ATLAS CVMFS
- CVMFS: continued Stratum One reports from WLCG of delayed operations
  - unpacked repo replication delayed 22 hours due to garbage collection (4 May)
- CVMFS: sPHENIX client issues [reported by Chris P](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37923)
  - sphenix repository served outdated version of file pointer in client on multiple WNs (sphnx1212, sphnx1235)
  - files were in use/pinned and not updated, no errors in client or in syslog, no hangs in accessing repos, cache partition only ~50% full 
- ITD: reported queuing issues with CUPS service and broken HTTPS connections due to expired certificate (INC0207237)
- NPPS/SDCC: interview panel for candidates for EIC computing PD NPPS staff [position](https://www.myworkday.com/bnl/d/inst/15$165509/5303$1327.htmld#TABTASKID=2998%2417245) (3 90+ minute interview slots, 7-9 May)
- SDCC: issues with announcements script sending multiple copies per list, not updating web page without manual fix
- SDCC: issues with NX terminal node overload, processes running host out of memory; reported [by Chris P](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37899)
- SDCC: confusion with STAR user [demanding immediate reinstatement](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37902) of deactivated account
  - student left STAR experiment and allowed BNL guest appointment to expire (or possibly never completed a request), needs to resolve registration with GUV Center before SDCC account can be reinstated
- SDCC: discussions on facility primary/supplemental accounts, LDAP denomination for non-primary accounts, matching Active Directory for primary account, assigning supplemental group membership to primary accounts (James, Jason, Saroj)
  - [Summary of requirements](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37846#txn-1133204), action items on LDAP side (Jason)
- SDCC: discussions on NX deployment via Puppet, Git branch merging issues, rterm script merge conflicts
- SDCC: issues with sPHENIX conditions database calibration write confirmation, [reported by Chris P.](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37904)
  - OpenShift pod deployment seemed fine (more pods added anyway), possible issues with [client check response](https://github.com/BNLNPPS/nop ayloadclient/blob/main/src/realwrapper.cpp#L66) to failed or partial transactions (Ruslan)
- SDCC: discussions, meeting on EIC PD monitoring progress, storage purchases
- SDCC: meeting on possible BNL/US FCC web requirements
- SDCC: issues with announcement ribbon across main faility Drupal site overlapping navigation bar elements, making them unusable, due to layer ordering changes (fixed, Chris L)
- SDCC: discussions on REANA support for obsolete/retired clusters requested by EIC and other groups
  - Previously deployed instances unsupported, unavailable on ATLAS OKD (retired cluster) and k8s (service not running)
- SDCC: debugging broken connections between test Prometheus and Grafana services in OpenShift
  - OpenShift MTU change by infra team: reverted again back to default 1500 value
- SDCC: discussions about validity of requests for creating and maintaining another [facility CUPS service](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37916) 
- BNL: travel over the weekend to KIT for [Belle II workshop and site meetings](ttps://indico.belle2.org/event/13885/)
  - travel was canceled on 10 May (Saturday) because eCC clearance (submitted 8 May) was not approved before flight
    
# 28 Apr - 2 May
- ATLAS: VO, IAM user management, questions, troubleshooting
- ATLAS: followups on outdated [CERN ATLAS TWiki content](https://twiki.cern.ch/twiki/bin/viewauth/AtlasComputing/SPARatBNL) for BNL user storage and disk quota information; TWiki page edited to remove outdated content and point to [ATLAS AF docs]( https://usatlas.readthedocs.io/projects/af-docs/en/latest/)
- Belle II: further investigation of KEKCC site cache heavy load and conditions access
  - 1/2 KEKCC Squids deactivated in preparation for upgrade
  - substantial new conditions request traffic seen from unlisted, possible IHEP node (202.122.32.238)
- Belle II: setup help for IN2P3CC with new conditions site cache 
- Belle II: account, Comanage setup for Computing team members for access to Openshift project
- Belle II: more work with infrastructure team on OpenShift storage claims and changes, project access privileges
- Belle II: discussion of US Belle II web site tracking and cost (Louis)
- SDCC: EIC monitoring PD disk requisition pinned for purchasing; smaller CPU purchase quotes to add worker nodes to Openshift pool
- SDCC: issues with sPHENIX Gitea and other web applications using LDAP entries for users with multiple accounts, need for primary/preferred account field for records, should match BNL Active Directory values
- SDCC: [complaints from US ATLAS](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37895) on outdated 'review' and 'po' web sites, both hosted by BNL Physics
- SDCC: meeting, discussions on monitoring improvements for HPSS, possible Prometheus and Grafana implementation
- SDCC: debugging of [reported issues](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37898) with ePIC Invenio CILogon registration (Louis)
  - site does not seem to properly link to CILogon or COmanage after CILogon affiliation check and self-registration 
- SDCC: discussions on policy and historical context of mounting GPFS volumes on NX nodes
  - despite [user claim](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37862), GPFS was not mounted on these nodes previously, and doing so would conflict with security policy
- SDCC: Indico user, group administration and ACL for events within joint SDCC-sPHENIX meeting category 
- SDCC: system and service checks after power outage affected farm nodes (2 May, 2-3am)
- SDCC: renewed annual data center safety and job hazard training and agreement (J. McCarthy)
- BNL: vacation days (3: 28-30 Apr)

# 21-25 Apr
- ATLAS: VO, IAM user management, questions, troubleshooting
  - account suspensions due to adjoining contract dates; issues with generating grid proxies with missing x.509 credentials in IAM
  - CERN IAM team updating ATLAS instance to [v1.11.0 on 30 Apr](https://cern.service-now.com/service-portal?id=outage&n=OTG0155584), should solve multiplle known issues
- ATLAS: progressing with Varnish test deployment in OpenShift for US ATLAS started, after modifications to base image (Lincoln, Ilija)
  - working with infra team to verify security of deployment, add routes and ingress connections
- Belle II: DIRAC (BelleDIRAC) upgrade to v6.10 on 21 Apr; no new job submission 20-21 Apr
  - Rucio front end modifications to DID script to change metadata plugin scope (from json to all)
- Belle II: heavy conditions access over weekend from KEKCC Squids, even during DIRAC downtime (19-21 Apr)
  - service went unresponsive multiple times overnight/weekend due to high load, completely unresponsive 20 Apr 3:40-3:50 AM
- Belle II: continued testing, debugging of Java pod replacement deployment on OpenShift
  - need to recreate or replace current logging and monitoring in OpenShift project, with Infrastructure team
- CVMFS: continued Stratum One reports from WLCG of delayed operations
  - unpacked repo replication delayed 20 hours due to garbage collection (20 Apr)
  - auger.egi.eu garbage collection delayed 10 days until run manually (22 Apr)
- CVMFS: failing ATLAS pilot errors [determined](https://helpdesk.ggus.eu/#ticket/zoom/3170/) to be harmless and not site-specific
- ITD: more debugging of Teams access issues with BNL domain account and MS authentication (with T. Svakis)
- SDCC: meetings and discussions on [monitoring infrastructure](https://docs.google.com/document/d/1OGr2SvrQe7CKvmEhnTRXCYelRFTAIXa-AueFKk19HyM/edit?usp=sharing) and PD storage purchase 
- SDCC: sPHENIX internal ELOG logbook went unavailable ([RT](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37870))
  - proxied by webproxy00, running on backend spweb01; custom logbook directory disappeared; mount lost due to GPFS server operations; elogd and httpd restarted
- SDCC: notified Jira users of upcoming changes to site navigation being [pushed out by Atlassian](https://support.atlassian.com/jira-software-cloud/docs/what-is-the-new-navigation-in-jira/)
- BNL: renewed [expiring property pass](https://psfinance.psoft.bnl.gov/psp/Fsprod/EMPLOYEE/ERP/c/MANAGE_ASSETS.BNL_PROPERTY_PASS.GBL?Page=BNL_PROPERTY_PASS&Action=U&BUSINESS_UNIT=BNL&BNL_PASS_ID=PP000711) for BNL-issued laptop
- BNL: vacation days (2.5: 23-25 Apr) 

# 14-18 Apr
- ATLAS: VO, IAM user management, questions, troubleshooting
- ATLAS: Varnish test deployment for US ATLAS started, stalled
  - new OpenShift project space for US ATLAS deployments ('experiment-atlas'), new OpenShift BuildConfig ('varnish-atlas') and build of [Ilija's Github repo](https://github.com/ivukotic/v4A/) code, build succeeds but deployment fails
- Belle II: DDM and other teams continue to report BNL Grafana data loss issues since move to new servers and versions
  - influx service on production ELK server producing inconsistent data in different dashboards and intervals, timing out in some cases
- Belle II: configuration, debugging of Java pod replacement deployment on OpenShift, and preparations for wide-scale testing by B2 teams
  - extensive load testing of pod deployment with B2 Software and Calibration teams (Giacomo's ["hammer" test code](https://gitlab.desy.de/giacomo.depietro/hammer-cdb/)) 
  - found and addressed issues with stalling 'bouncer' pod breaking under moderate test load
    - more connections enabled in pods (pgbouncer set to max 10k, B2S pods max 500 each, 900 connections now seen on test DB backkend during high loads)
  - old ingress route from previous deployment found, cleaned up, may not have affected pod functionality
- Belle II: applicant vetting, support, final selection for [Google Summer of Code project](https://hepsoftwarefoundation.org/gsoc/2025/proposal_HSFCondDB_AILogAnalysis.html) (Intelligent Log Analysis for the HSF Conditions Database)
- CVMFS: more client repo hangs on ATLAS WNs, calls over weekend about potential WN issues without no detail given
  - [new GGUS ticket](https://helpdesk.ggus.eu/#ticket/zoom/3170/) filed on Monday, a few isolated WN repos found hung and fixed
  - more WN issues [reported](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37857), this time on shared pool WNs
    - client config for OSG repos [fixed and pushed upstream](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/685), run on select WNs
- CVMFS: Stratum One reports from WLCG of delayed operations continue
  - unpacked repo replication delayed 20 hours due to garbage collection (13 Apr)
  - agreed to disable disk usage reports on NFS mounted volumes (thought to cause enough IO to disrupt operations)
- SDCC: Jira user management and group assignment for ITD Networking staff
- SDCC: hunted down and found obsolete ATLAS pages and links for BNL dCache instructions:
  - users find [this ATLAS TWiki page](https://twiki.cern.ch/twiki/bin/viewauth/AtlasComputing/SPARatBNL#Data_Storage), which claims to be obsolete and replaced by [this US ATLAS ReadTheDocs page](https://usatlas.readthedocs.io/projects/af-docs/en/latest/), which links to [a page for BNL users](https://usatlas.readthedocs.io/projects/af-docs/en/latest/sshlogin/ssh2BNL/), 
which links to [these instructions for using BNL storage](https://usatlas.readthedocs.io/projects/af-docs/en/latest/doma/storage/BNL/storage-at-bnl/), which tells people to open a ticket in order to obtain an ATLAS pNFS storage area
- SDCC: storage quote discussions for monitoring PD (VAST, ThunderCat)
  - going with VAST for PD storage, possibly other vendor for smaller server purchase
- SDCC: discussions on faciliity technical liaison position for DUNE experiment (Hiro)
- SDCC: US ATLAS milestone update on CVMFS upgrade (#191): delayed by RHEL9 infrastructure rollout delays
- SDCC: more issues with InCommon IDP and facility SSO
  - "MDQ" aggregate IDP endpoints were changed on InCommon side, not updated on our side to use new endpoints, causing failed metadata downloads
- SDCC: `rterm` script broken on all NX terminal nodes; was missing 'slogin' symlink to ssh binary; fixed manually, but should be managed by git/puppet
- SDCC: GPFS mount also [reported missing](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37862) from all NX terminal nodes; fixed with NFS mounts (Hiro)
- SDCC: announcement script/form broke again: first web site was not updated, then old code mistakenly pushed to live site and overwrote web entries with old data
- BNL: due to recent ITD BNL Domain account authentication change, I can no longer connect to MS Teams meetings, unless I migrate my SDCC email to BNL's Outlook 365 service
- BNL: signed new lab-wide flexible work arrangement Workday agreement
- BNL: expiring training JTA (GE-JTA-REV) [reviewed](https://www.bnl.gov/training/info.php?t=GE-JTA-REV) and [confirmed](https://btmsadmin.bnl.gov/jtareview)
- BNL: finally retired and excessed asset 00157475 with Equipment Movement Request (EMR) 00019258

# 7-11 Apr
- ATLAS: VO, IAM user management, questions, troubleshooting
  - increased request demand due to ATLAS Software tutorials
  - many issues with user registrations (failed verification links, duplicate registrations, trying to log into VOMS instead of IAM, broken AMI associations, contract date or affiliation issues that caused auto-suspension of VO memberships) 
- Belle II: planning to move all conditions services from RHEV VMs to OpenShift pod deployment
  - requires more testing and validation of current test deployment from B2 groups (software, data production, calibration) 
- Belle II: applicant vetting and support for [Google Summer of Code project](https://hepsoftwarefoundation.org/gsoc/2025/proposal_HSFCondDB_AILogAnalysis.html) (Intelligent Log Analysis for the HSF Conditions Database)
  - urged finalists to submit completed proposals before [CERN HSF projects'](https://summerofcode.withgoogle.com/organizations/cern-hsf/programs/2025/proposals/details) 8 Apr deadline 
- Belle II: reviewed current US Belle II user documentation for certificates and grid usage (on [DESY XWiki](https://xwiki.desy.de/xwiki/bin/view/BI/Belle%20II%20Internal/Computing%20WebHome/Computing%20GettingStarted/Computing%20Belle-II-Grid-Certificate/Grid%20certificates%20andor%20BNL%20computing%20account%20for%20Belle%20II%20member/))
  - most content will be obsolete after CILogon certificate CA retirement in May, including BNL account instructions (as prerequisite to obtaining CILogon certificate access) 
- Belle II: still trying to get travel approved for Joint Computing, Data Production, and Software [Workshop](https://indico.belle2.org/event/13885/) in Karlsruhe (12-16 May)
- Belle II: discussion on old servers to be retired, specifically bltest0{1,2}, which I can not even log into
- CVMFS: GGUS ticket for [CMS repo installation on BNL WNs](https://helpdesk.ggus.eu/#ticket/zoom/2576/) seems to have been incorrectly reassigned to AGLT2
- CVMFS: hundreds of changes to Puppet code in both [EL7](https://webdocs.sdcc.bnl.gov/cgit/puppet/catalog/diff/?id=2df11956c18cd217f433b6af940c6986a04e9ba4&id2=81b4020c73e5356fe64a8bf861e566b7e306aefc) and [EL9 repos](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/673) to fix puppet issues for EL8+ (short array names changed to FQDNs to prevent key conflicts) and add lint features (parameter data typing, parameter documentation, class documentation, class/define bracket closure and spacing)
  - unfortunately, this change and other subsequent merges caused client issues across the site and all WNs (10 Apr)
  - signing key location in client configuration was either erased or reverted to old, invalid values
  - all client mounts of all repos hung
  - required several code fixes and manual intervention in addition to Puppet deployments
  - ATLAS farm completely drained due to broken CVMFS cern.ch repo configs (reported in [GGUS](https://helpdesk.ggus.eu/#ticket/zoom/3135/13013) and ADC dailies)
  - sPHENIX lost access to data movement and archival scripts (hsi, htar, pftp) linked on user, dev, and prod hosts to broken SDCC repos in CVMFS
  - NFS mounts on CVMFS write hosts (cvmfswrite0{4,5}) also broke and went stale, required manual remounting ([RT report](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37849))
  - Puppet code merge request to EL7 git repo withdrawn to prevent similar issues on server side
- CVMFS: complaint from DUNE user about accessing protected content on OSG's dune.osgstorage.org repo on BNL WNs ([RT report](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37830))
    - file access seems to require authentication and special client config; awaiting confirmation from user and further info from OSG
- NPPS/SDCC: invited to join EIC Software and Computing staffing panel (Alexei, Torre)
- SDCC: issues with all SSO login over weekend (6 Apr)
  - First reported by [sPHENIX in RT](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37827), affected all experiment and staff logins
  - SDCC account user/pass login continued to function, but SSO redirect failed on all sites
  - change made on InCommon side (md.incommon.org) to block HTTP connections, not adjusted to HTTPS on our IDP
- SDCC: continued issues with production monitoring services
  - production ELK hosts (gs-elk0{1,2}) running out of disk, not enough memory to maintain ES shards
- SDCC: issues with SDCC Drupal search function (results overlayed by nav menu element)
  - not caused by corrupt cache nor alleviated by cache refresh as thought: required CSS object dispolay layer override (Christian)
  - other Drupal issues found (announcement page view permissions, critical security update needed)
    - permissions lost again for viewing some (but not all) content, possible reversion of previous role assignment issues
- SDCC: discussions on getting HTCondor AdStash to work with OpenSeach v1 (and why it's still not yet working with v2 when [this was fixed in January](https://osg-htc.org/docs/release/osg-24/#january-6-2025-htcondor-2403-upcoming-htcondor-2430)) 
- SDCC: discussion of transferring CFN PI/liaison privileges from Sam to Jae Lee ([RT request](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37848))
- SDCC: moved my office from b.510 M2-27 to b.725 (after previous occupant finally moved out 7 Apr)
- SDCC: more issues [reported](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37836 ) with SET repository and HTTPS connections
  - SSL issuing CA certificate seems to be missing or expired
- WLCG: obtained and reviewed [training material](https://drive.google.com/file/d/18v0Jbhy1Breoqb6zDFMI-r4RV7efTlFw/view) on WLCG's new Helpdesk from Pavel (via [ticket](https://helpdesk.ggus.eu/#ticket/zoom/1419))
- BNL: administrative rigmarole involving BNL property asset 00157475, JBOD incorrectly labeled as 'Network Servers' and awaiting excess procedure

# 31 Mar - 4 Apr
- ATLAS: VO, IAM user management, questions, troubleshooting
  - x.509 auth login removal has been reverted in the production ATLAS IAM instance, in addition to CERN SSO login
  - user AUP agreement link was broken, held over from old IAM instance in OpenShift; redirected to current OpenStack instance
  - more issues with expired one-time verification links emailed from IAM to users
  - CERN IAM admins introduced [OpenSearch "Jeedy" activity log access](https://os-jeedy.cern.ch) -- but access is broken outside of CERN
- ATLAS: contacted Frontier experts to again inquire about extremely high client request rates on site caches (29 Mar - 3 Apr, [WLCG cache rate monitoring](http://wlcg-squid-monitor.cern.ch/snmpstats/mrtgall/BNL-ATLAS_frontier-cache.sdcc.bnl.gov/proxy-hit.html))
- Belle II: fielded more complaints from users about conditions metadata response slowness as heavy incoming request loads continue (ongoing)
- Belle II: more work with SDCC infra team to correct config issues with OpenShift deployment for conditions migration project (external access)
  - custom OpenShift class (`internet_apps`) created for external access, applied to metadata and file service pods for http, https connectivity (Rob) 
- Belle II: applicant vetting and support for [Google Summer of Code project](https://hepsoftwarefoundation.org/gsoc/2025/proposal_HSFCondDB_AILogAnalysis.html) (Intelligent Log Analysis for the HSF Conditions Database)
  - Mentoring to shape primary candidate project proposals for SoC submission
  - rejections sent to several excellent candidates, so they can move on to other projects
  - concerns over citizenship of primary candidates (India, Pakistan) and DOE restrictions; following up with GUV Center
- CVMFS: more debugging of mass client issues at US MWT2 site; developers also involved in debugging
  - likely caused by [known cache tracking issue](https://github.com/cvmfs/cvmfs/issues/3520), mitigated by [fix in v2.12.7](https://github.com/cvmfs/cvmfs/pull/3588)
- SDCC: production ELK servers (gs-elk0{1,2}) ran out of disk, shards, breaking logging and Grafana plots (31 Mar - 1 Apr)
  - also dropping data in intervals of seconds, hours, sometimes weeks
- SDCC: user issue with Invenio account naming [opened last week](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37794), not addressed by Invenio experts until reminded 5 days later
- SDCC: debugging of broken user account request form (Louis)
  - form fails to submit and validate due to broken experiment selection dropdown
  - no changes made, yet form stopped working on all browsers (31 Mar)
  - form used very old jQuery version (1.11.3/2015); updating to latest did not fix issues
  - users now finding the form broken and [opening help tickets](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37806)
  - Puppet had been turned off (but not disabled) for years on the host (web01), was shut down and turned back on, Puppet ran and [updated many files](https://webdocs.sdcc.bnl.gov/foreman/config_reports/95603036)
  - JavaScript was reverted from old host (useraccounts01, also turned off), form now functioning again (Louis)
- SDCC: [cleaned up](https://webdocs.sdcc.bnl.gov/cgit/puppet/catalog/commit/?id=4a3b83c8ed5d15b2c1a97d0bbd5b083cad4e7af6) errantly uploaded Mac .DS_Store desktop file from web module in production EL7 Git repo
  - no httpd/apache/web modules exist in EL8/9 repos
- SDCC: addressed complaint from CS about sudden "flooding" of syslog messages for Frontier client requests from WN farm nodes
  - we've been logging these records for ~15 years and sending them to CS at their request
- SDCC: follow-up and discussions on storage quotes and purchases for monitoring prototype system PD
- BNL: renewed suddenly expired "Foreign Affairs Counter Threat" training (CT420/2025/DL/0001)
  - period of validity was misreported at 7 years, reduced to 6 years
  - training and account renewal are not possible; new accounts required at State Dept, [Foreign Service Institute (FSI)](https://sis.fsi.state.gov), [Okta](https://state.okta.com/)
    - new accounts also requires third-party Okta app installed on separate device for three-factor authentication
    - account and training requests must be reviewed and approved by DOE representative
  - four hour course, completed (2-3 Apr)
- BNL: vacation days (1: 31 Mar)

# 17-21 Mar
- ATLAS: VO, IAM user management, questions, troubleshooting
  - increased request demand due to ATLAS Software tutorials
  - x.509 auth has been removed from the production ATLAS IAM instance; only CERN SSO login is now permitted 
  - issues with new service accounts: can not be created/requested by users; need to be manually created by admins, entered into Rucio/DDM mappings
  - more issues with expired one-time verification links emailed from IAM to users
  - request from EGI operations to provide the total number of registered ATLAS VO members, which IAM UI does not permit
    - API count (~3600 users) [via curl](https://atlas-auth.cern.ch/stats) inaccurate (includes deactivated/suspended users)
  - users still being directed to defunct VOMS Admin URLs for VO management
    - further updates to [ATLAS TWiki](https://twiki.cern.ch/twiki/bin/view/AtlasComputing/WorkBookStartingGrid) to remove VOMS Admin references, update IAM URLs
- Belle II: fielded more complaints from users about conditions metadata response slowness as heavy incoming request loads continue (ongoing; [detailed discussion](https://questions.belle2.org/question/15218/error-conditions-database-problem-parsing-payload-information/))
- Belle II: more work with SDCC infra team to correct config issues with OpenShift deployment for conditions migration project (storage mounts and claims, project permissions, ingress routes, SSL issues, external access)
- Belle II: applicant vetting and support for [Google Summer of Code project](https://hepsoftwarefoundation.org/gsoc/2025/proposal_HSFCondDB_AILogAnalysis.html) (Intelligent Log Analysis for the HSF Conditions Database)
  - first round complete; only three candidates can be chosen to move to next stage for proposal and interview; other candidates informed of decision ASAP so they can move on to other projects
  - Zoom meetings with two primary candidates, mentoring to shape project proposals for SoC submission
- Belle II: migrating DIRAC servers from RHEV to OpenShift (Hiro)
- CVMFS: reported Stratum Zero publishing read-only mount issue to developers, similar to [earlier reported issue](https://cernvm-forum.cern.ch/t/publishers-auto-umount/528)
- CVMFS: had to report again that STAR's auto-catalog configuration is problematic and requires attention to avoid further publishing issues
- HSF/IRIS-HEP: registered for [Analysis Reproducibility Training sessions](https://indico.cern.ch/event/1508102/) but did not have any free time to attend
- SDCC: added missing Ops Team staff members to 'webstaff' LDAP group for access to protected group pages
  - 'webstaff' group has an astounding 78 member accounts (for a ~35 member team)
- SDCC: quote evaluation and discussion on storage purchase for monitoring PD prototype (e.g., Vast quote for 338TB NVMe raw / 200TB usable for $150k, 2 years)
- SDCC: RT user and group management
- SDCC: checked exported dashboards to newly upgraded 'monitoring-dev' Grafana instances (internal and public) for compatability, functionality issues (Costin)
  - added timeout override to address connection issues for long queries
- SDCC: discussions on monitoring PD personnel issues and funding
- SDCC: discussion on whether to preserve [CHEP 2012 web site](https://www.chep2012.org) (hosted on old VM)
- SDCC: discussions on OpenShift resource management and VM eviction policies: production VMs should *never* be evicted or rebooted due to hosting resource restrictions
- SDCC: responded to purported cyber concerns with Grafana monitoring page for Belle II conditions data access logging
  - not a legitimate cyber threat or attack vector
- SDCC: discussions on Drupal issues: dead links, exposed 'node' and 'index.php' URLs, corrupt caching and refreshes
  - broken link on [BNL site](https://www.bnl.gov/npp/datamanagement.php) needs to be corrected by ITD (and also cleaned up and fixed)
  - Drupal cache needs to be refreshed periodically; Louis to try adding a cron next week 
- SDCC: new NetApp OnTap NAS storage monitoring of CVMFS volumes in [Grafana dev instance](https://grafana-dev.sdcc.bnl.gov/dashboards/f/cdtaq01tmx4owd/) (Joe) 
- BNL: multiple meetings on "HR matter" (24,27 Mar)
 
# 17-21 Mar
- ATLAS: VO, IAM user management, questions, troubleshooting
  - ATLAS SW tutorials announced for 24 Mar, 7 Apr (number of new VO requests will spike)
- Belle II: heavy use of conditions services continue, current VM hosting conditions database (blconddb03) can not keep up; additional resources requested
  - VM CPU usage (16 cores) at 100% for > 2 days, system loads 600-800 under heavy request loads
  - conditions service under constant high load: 7M requests from KEKCC in 24h, .5M in 1h (14 Mar), backend DB service handling > 1k connections at peak
  - 18 Mar: CPU cores doubled to 32; reboot required to pick up new resources, but OpenShift VM was stuck in "migration"; VM shut down, moved to different hypervisor, restarted; system load has normalized since the change
- Belle II: working with infrastructure team to get conditions test deployment in OpenShift ready for testing
  - issues with ingress connectivity, NFS mount ACLs 
- Belle II: production monitoring services were interrupted for several hours (20 Mar)
  - Production Grafana disabled due to questionable security issue ('playground' area dashboards editable by anonymous users, as designed)
  - Mitigation found and applied; public and procected service instances being migrated to latest version (v8->11) for testing and verification
- Belle II: applicant vetting and support for [Google Summer of Code project](https://hepsoftwarefoundation.org/gsoc/2025/proposal_HSFCondDB_AILogAnalysis.html) (Intelligent Log Analysis for the HSF Conditions Database)
- CVMFS: continued delays reported by WLCG monitoring on Stratum One operations due to high storage I/O
  - snapshot on 'unpacked' repo delayed 19 hours (16 Feb)
  - disabling NFS 'atime' attribute on NetApp side did not improve client performance
  - discussions of copying the replica data to dupllicate VM and "local" disk object store in OpenShift
- CVMFS: acknowledged "critical" Nagios alert on Stratum Zero temporary repository spool storage, which is not supposed to be monitored 
- CVMFS: broken repository mount for STAR prevented new content publishing (reported by Gene in [RT#37769](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37769))
  - while debugging also noticed similar issue for sPHENIX repo
  - required manual fixes to correct r/o and r/w repo mounts, abort hung transactions, successfully complete test transactions and subsequent garbage collection
- SDCC: User Services team discussions on monitoring prototyping (hardware specs, contractor tasks, waiting on storage quotes from Vast, others)
- CERN: completed required renewal of EDH, family status, contact forms
- BNL: renewed expiring [Brookhaven Computer Facility (BCF) in ITD training](https://training.bnl.gov/portal/AO-BCF) (18 Mar)
- BNL: vacation days (2: 20-21 Mar)

# 10-14 Mar
- ATLAS: VO, IAM user management, questions, troubleshooting
  - users failing to sign AUP by clicking links distributed by "old" IAM instance (https://atlas-auth.cern.ch v. old https://atlas-auth.web.cern.ch service)
- ATLAS: [request from CMS](https://helpdesk.ggus.eu/#ticket/zoom/2569) to make new CVMFS repo (cms-griddata) available on BNL WNs, Stratum One replica
- Belle II: temporarily reduced (and then restored) default Rucio cleaner daemon sleep times to help process growing backlog of DDM rules and locks, with Cedric (11 Mar)
- Belle II: site checks for current IPv6 support for services (- conditions, - DIRAC, + FTS), with Silvio
- Belle II: applicant vetting and support for [Google Summer of Code project](https://hepsoftwarefoundation.org/gsoc/2025/proposal_HSFCondDB_AILogAnalysis.html) (Intelligent Log Analysis for the HSF Conditions Database)
- Belle II: time on Rucio server (blrucio06) fell > 1300 seconds behind standard time, beginning with power outage
  - ntpd stopped running after VM failed due to power outage; required manual `ntpdate` run with specific ntp server as argument 
- Belle II: Invenio docs service has been shut down in favor of PubDB ([details](https://xwiki.desy.de/xwiki/bin/view/BI/Belle%20II%20Collaborative%20Services%20and%20Tools/PubDB/))
- Belle II: production InfluxDB service feeding Grafana was shut down (because Carlos confirmed it was not in use)
  - with Joe, RHEV VM restored, moved to OpenShift, still needs software update and migration to EL9
  - warnings triggered and sent to B2 T1 CDB mail alias (which is currently just me and RT, and mail rejected by RT)
- Belle II: OpenShift pod version of current conditions services deployment ready for testing, requires routing to WAN for external tests (by software and data processing teams)
  - infra team needs to transition firewall rules to OpenShift haproxy ACLs in order to enable WAN access
  - worked with Rob, Ruslan to analyze current network routing and optimize pod deployment
- Belle II: conditions services in heavy use all week, overrun with several millions of requests per day
  - one metadata node (blcond03) ran out of disk due to excess logs generated by heavy request load, required manual partition extension (via lvs, 13 Mar)
  - [access problems reported](https://gitlab.desy.de/belle2/software/cdb/operations/-/issues/2) by Data Processing team as a result of heavy request load
    - discussions resulted in [move of payloads](https://gitlab.desy.de/belle2/admin/buildbot/-/merge_requests/64) from global tag 'tracking_data_Moriond23_v1' into CVMFS (needed for  proc13/MC15 analysis)
- CVMFS: continued delays reported by WLCG monitoring on Stratum One operations due to high storage I/O
  - snapshot on 'unpacked' repo delayed 42 hours (11 Feb); others delayed > 48 hours (e.g., na61.cern.ch, 9 Feb)
  - exploring whether disabling NFS 'atime' attribute and overhead might improve performance
    - no NFS client-side 'noatime' mount option, must be disabled on NFS export side (NetApp NAS)
    - disabled on NetApp (13 Mar), to determine impact on high IO operations over the weekend
- CVMFS: Stratum Zero server again triggering Nagios alerts on spool storage mounts after data center power outage
  - read-only repo-specific spool mounts are transient and should not be tracked as critical alerts by Nagios
- CVMFS: dev team and collaborators now looking into Varnish replacement for Squid, new working group established
  - looking into Varnish use in ATLAS/US ATLAS, with Ilija
- SDCC: monitoring prototype meeting, discussions
  - additional funding found for Prometheus storage purchase, Rob to request purchasing quotes
  - a few PB of old, out of warranty storage from retired GPFS can also be used for proof of concept
  - request from sPHENIX for more storage to add their current run TSDB data to Prometheus ([RT](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37539))
- SDCC: troubleshooting of broken Drupal site (no private menu, no editing or admin tools)
  - group and site admin roles were dropped by a recent Drupal update, required manual reinstatement
- SDCC: troubleshooting of missing data in Grafana plots
  - production ElasticSearch data lost for Belle II conditions services for substantial periods (27 Feb - 11 Mar, 12 Mar 2-3:30am), cause unknown
- SDCC: debates on user account management and whether separate accounts are required for every desired experiment/group, or if one account with multiple GIDs can now suffice instead
- SDCC: help NPPS troubleshoot certificate and VO related issues with PanDA token authentication, and [PanDA DOMA IAM instance at CERN](https://panda-iam-doma.cern.ch/)
- SDCC: meetings and discussions on Drupal upgrades, migrations for STAR to other solutions (e.g., possibly InvenioRDM for doc management based on similar EPIC requirements)
  - shared insight and experience from Belle II collaborative tools team on moving away from Invenio to PubDB for document management
- SDCC: meeting and discussions with [Vast Data](https://www.vastdata.com/) on storage quotes and potential data storage for monitoring, Prometheus prototyping (Louis, Joe, Rob)

# 3- 8 Mar
- ATLAS: VO, IAM user management, questions, troubleshooting
- Belle II: applicant vetting and support for [Google Summer of Code project](https://hepsoftwarefoundation.org/gsoc/2025/proposal_HSFCondDB_AILogAnalysis.html) (Intelligent Log Analysis for the HSF Conditions Database)
- Belle II: issues with Rucio front-end services (3 Mar)
  - related to disparate /var partition sizes for two front-end hosts (blrucio0{7,8}): one was a factor of 3 smaller and ran out of space
- SDCC: recovery of multiple services and hosts after 7 Mar SDCC data center power outage
- BNL: vacation days (3: 3-5 Mar)
- BNL: travel (KEK, 21 Feb - 6 Mar)

# 24 Mar - 1 Feb
- Belle II: [general collaboration meeting](https://indico.belle2.org/event/13868/) and [Pre-B2GM Computing](https://indico.belle2.org/event/14015/) meetings
  - most [reports](https://indico.belle2.org/event/13868/contributions/85461/attachments/33031/48798/B2GM_Mitsuka_20250226.pdf) concluding vacuum sealant (VacSeal) compound as likely cause of sudden beam loss (SBL) 
  - many meetings on conditions services, data processing, data management
  - issues with DIRAC DB performance; DB service restart failed, required service host reboots and job submission downtime (>24h)
- ATLAS: VO, IAM user management, questions, troubleshooting
  - issues with old/incorrect user CERN accounts linked to VO membership; requires VO record patch via curl token calls (CERN [SNOW #RQF3043728](https://cern.service-now.com/service-portal?id=ticket&table=u_request_fulfillment&n=RQF3043728))
- CVMFS: continued delays reported by WLCG monitoring on Stratum One operations due to high storage I/O
  - snapshot on 'unpacked' repo delayed 20 hours (24 Feb)
  - other sites also reporting issues with garbage collection impacting replication operations: sft GC running at DESY > 12 hours
- SDCC: removal of ex-staff user from staff groups in facility services (Jira, RT) 
- BNL: travel (KEK, 21 Feb - 6 Mar)

# 17-21 Feb
- ATLAS: VO, IAM user management, questions, troubleshooting
  - issues with DDM access, DN replacement
- ATLAS: WLCG/DOMA General Meeting (19 Feb)
- ATLAS: discussions with ATLAS, CVMFS, US ATLAS teams on possible use of Varnish caching with or in place of Squid, expressed interest in testing
- Belle II: working with SDCC infra team, CDB team to enable NFS mounts within OpenShift for conditions database services testing
  - also working to correct and optimize persistent volume (PV) and claims (PVC) permissions and provisioning
- Belle II: contributions to slides, talks on conditions database service status and migration for next week's B2GM
- Belle II: schedule established to formally interview US Belle II users at [a special B2GM session](https://indico.belle2.org/event/13868/sessions/4487/) for KEK grid certificate issuer clearance
- Belle II: continued discussions on HSF Reference Conditions Database implementation in Belle II and elsewhere (Ruslan, Paul, Michel)
- Belle II: new DAQ sub-runs determined to be internal and for online processing, not for offline; likely no implications for conditions data or Distributed Computing
- Belle II: submitted annual renewal request for KEKCC and KDS service accounts
- CVMFS: additional replica repair required after last week's publishing issue: outdated replica reflogs updated and replaced; failed/aborted garbage collection processes repaired and resumed
  - mounts and mount scripts on Stratum Zero need to be cleaned up and solidified
- CVMFS: [RT ticket on failed remote access](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37622) closed; issue was client-side firewall restriction
- CVMFS: discussions on fragmentation and optimization of Stratum Zero repository content for local ATLAS jobs (with Shuwei) 
- SDCC: httpd virtual host creation and maintenance process improvement discussion, and updating proxy servers (Louis, with Chris, Ofer)
- SDCC: SPHENIX Jenkins server (jenkins01) fixes for CVMFS client version, GPFS client version to repair Puppet runs (with Joe)
  - issues remain with manual Jenkins .jar file management
- SDCC Jira: investigating notification from Atlassian regarding "confirmed" product orders by Carahsoft that were not requested
  - As Carahsoft have somehow established themselves as "Atlassian partner" for our Jira instance, I have no visibility into billing
  - Passed on to Carahsoft account representatives (A. Gregg, N. Coughlin) for explanation and detailed information
  - Possibly related to Atlassian's changing Jira product names and migrating data, but no details provided
  - Atlassian changed our 100 seat license to only 50 seats -- less than our active users -- during migration of "Jira Work Management" to "Jira"
    - As Carahsoft have changed our license to a partner-managed subscription, Carahsoft need to follow up on this
- SDCC User Services: discussions on monitoring, web proxies and virtual hosts, Jupyter proxies and back-end issues
- BNL: travel (KEK, 21 Feb - 6 Mar)
- BNL: submitted Annual Property Pass Inventory Verification for FY25 form
- BNL: vacation carryover request submitted prior to 1 Mar deadline 

# 10-15 Feb
- ATLAS: [INDIGO IAM Hackathon and Workshop](https://indico.cern.ch/event/1460011/), CERN (10-12 Feb)
  - [live meeting notes](https://docs.google.com/document/d/1goe9_pfbeiNx5r113_Kk821tyhFJqhiPglXn3qXNmzg/edit?tab=t.0)
  - feedback to IAM devs, admins on ATLAS, Belle II, DUNE use and requirements
- ATLAS: VO, IAM user management, questions, troubleshooting
  - user initial registration link issues continue, caused by HEAD requests by some email clients (e.g., Outlook) on behalf of user, invalidating one-time links
    - [fixed in IAM](https://github.com/indigo-iam/iam/issues/862), to be deployed in upcoming ATLAS instance upgrade 
- Belle II: user reported issues with global tag access for release-09-00-00
  - caused by incorrect pre-loading of required GTs (data_prompt_rel08)
- Belle II: continued issues with some DESY users forwarding email to their BNL accounts, denied by BNL DMARC policy
  - reported to DESY UCO (rt #1474850), under investigation but not likely much they can do on their side
- Belle II: discussions, meetings, prep work related to planned migration of conditions to HSF Reference Conditions Database implementation
- CVMFS: still finding stale file handles, broken NFS mounts on Stratum Zero, required fixes and remounts of spool partitions for each repository
  - restarted broken spool mount daemons; eventually required host reboot, check and recovery of affected repositories
- CVMFS: major upgrade of server, client versions on Stratum Zero service (v2.11.5 -> 2.12.6)
- CVMFS: server software upgrade triggered VM reboot, which resulted in three-day Stratum Zero publishing outage (13-15 Feb)
  - upgrade reverted to previous version during debugging
  - ultimate cause found to be misconfigured NFS systemd mount script (NFS export was being mounted instead of local partition)
  - after diagnosis and fix, all Stratum Zero repositories needed to be manually recovered, as well as their corresponding Stratum One replicas
    - debugging, fix, and recovery cost me three days and two nights of out-of-office time (two vacation days, one weekend day)
- CVMFS: remote questions on access issues to STAR repo [RT #37622](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37622)
- SDCC: continuing to work with Atlassian on Jira [trial subscription issue](https://support.atlassian.com/requests/JST-1085974/), issue finally resolved
- BNL: travel eCC corrected, resubmitted, and approved for Belle II GM travel
- BNL: HR meeting (12 Feb)
- BNL: delayed site opening due to weather (12 Feb)
- BNL: vacation days (2: 13-14 Feb)
- BNL: travel (CERN, 1-11 Feb)

# 3-7 Feb
- ATLAS: [ATLAS Software & Computing Week #80](https://indico.cern.ch/event/1477564/), CERN (3-7 Feb)
  - breakout meetings on monitoring, CVMFS, service token support, shared (and not shared) cross-experiment services
- ATLAS: VO, IAM user management, questions, troubleshooting
- Belle II: deletion slowness and time-outs on new Rucio node (blrucio09)
  - disabled bearer tokens (`RETRIEVE_BEARER_TOKEN`) in GFAL2 http plugin
  - reaper threads temporarily doubled to help speed up deletion queue processing
- Belle II: working with Ruslan to establish new OpenShift pod project for testing conditions service migration from current production JavaVM pods on VMs
- Belle II: re-signed expiring 'belle' virtual organization AUP agreement
- Belle II: discussions with conditions, distributed computing teams on [new DAQ usage](https://indico.belle2.org/event/14328/#6-daq-possibility-of-a-quick-d) of sub-run metadata and collateral effects and expectations (e.g., calibration builds)
- CVMFS: meeting with devs (Valentin) on priorities for 2025, issues with Stratum server tools, problems with specific repos that affect downstream servers and sites (unpacked, projects, shared.storage.igwn.org)
- CVMFS: meeting with ATLAS SFT on client use plans and priorities
- CVMFS: more problems found with NFS mounts on Stratum One and write nodes
  - local 'atlas' repository mount hung, corrupted data, required manual recovery (6 Feb)
- CVMFS: continued delays reported by WLCG monitoring on Stratum One operations due to high storage I/O
  - snapshot on 'unpacked' repo delayed 19 hours (2 Feb)
  - trying to optimize NAS storage performance with NFSv4.1 mount and extended mount options for replica storage -- failed due to NFS export issues (r/w ACLs, root squash, LDAP dependencies)
  - recent NFS mount and mount tweaks gave no observable performance benefit 
- BNL/SDCC organizational transition meeting with lab management (remote via Zoom w/Alexei, 6 Feb)
- BNL: travel (CERN, 1-11 Feb)
- BNL travel issues with electronic country clearance (eCC) for B2GM trip: incorrect destination and contact data submitted, caused interruption in appllication process, required correction

# 27 Jan - 1 Feb
- ATLAS: VO, IAM user management, questions, troubleshooting
  - group management changes for 'perf-muons', 'perf-jets', ['phys-higp', 'phys-hmbs'](https://its.cern.ch/jira/browse/CREMREQ-244) groups, and corresponding production sub-groups
  - odd 'account not active' registration errors for users who changed experiments to ATLAS
  - intermittent access issues to 'voms-atlas-auth.app.cern.ch' (Shaojun)
  - change to Harvester/PanDA/pilot token issuer instances (from 'atlas-auth.web.cern.ch' to 'atlas-auth.cern.ch') caused lost job heatbeats and drained grid of jobs ([ATLAS Jira ticket](https://its.cern.ch/jira/browse/ATLASPANDA-1291))
    - required [fix on PanDA side](https://its.cern.ch/jira/browse/ATLASPANDA-1294) to add support for token types issued by both instances
  - multiple premature VO membership expirations due to end-of-month contract and appointment changes 
- ATLAS: help with US ATLAS user grid access issues, changes to required grid certificate permissions, changes to related [SDCC docs](https://www.sdcc.bnl.gov/information/installing-grid-certificate)
- CERN: continued testing fixes to OTP issues on future EL9 lxplus and tunnel nodes ([CERN ticket](https://cern.service-now.com/service-portal?id=ticket&table=incident&n=INC4293493))
- Belle II: conditions service issues temporarily mitigated by reverting VM migration to OpenShift back to RHEV (23 Jan)
  - Downgrading MTU values of virtual interfaces within VMs not enough to solve calibration upload issues
  - MTU of k8s pods within VMs also need to be modified below OpenShift overhead threshold
  - Calibration team have verified all uploads and operations fully restored after reversion to RHEV hosting
  - Virtual networking issues in pods must be solved and verified before SDCC RHEV permanent retirement in a few months
  - Plan to migrate pods from inside VMs to pure OpenShift hosting
- Belle II: issues with broken access to ['CDBWeb' conditions global tag web interface](https://cdbweb.sdcc.bnl.gov/)
  - Postgres DB replica service failure caused by mismatch in permitted connections between master (4k) and replica (1k) servers
  - CDBWeb application reads contitions data from replica server (blconddb04)
- Belle II: issues with Rucio: tracer disabled, Chinese CA certificate user access
- Belle II: continued discussion with Distributed Computing on replacing US user grid certificates with KEK CA, possible in-person CA enrollment session to be held at B2GM
- Belle II: issues with host and service certificate replacement on DIRAC ElasticSearch nodes (bldiracvm0{3,6})
- Belle II: discussions on possible Google SoC effort for conditions code improvements and enhancements
- Belle II: more pings issued for latent basf2 client tasks related to conditions, CDBWeb ([Gitlab issue](https://gitlab.desy.de/belle2/software/cdb/database/-/issues/1)); assignments and reminders updated
- CVMFS: OSG finally acted on and [closed ticket (OSG #78082) from November](https://support.opensciencegrid.org/support/tickets/public/0085f28307a35fd917297f245ada3969396bbcab68fc3f8d3f73afe02e548302) on removing our local test repository from their OASIS replication
- CVMFS: continued delays reported by WLCG monitoring on Stratum One operations due to high storage I/O
  - snapshot on 'unpacked' repo delayed 20 hours (19 Jan), 19 hours (26 Jan)
  - trying to optimize NAS storage performance with NFSv4.1 mount and extended mount options for replica storage -- failed due to NFS export issues (r/w ACLs, root squash, LDAP dependencies)
  - addressed WLCG monitoring complaints related to aborted maintenance processes and other errors caused by NFS mount failures during testing
- CVMFS: spurrious errors in attr reporting from v2.12.4 client (reports itself as 2.12.4.4 instead of 2.12.4.0)
  - to be fixed in [upcoming v2.12.5 release](https://github.com/cvmfs/cvmfs/commit/7fa12220ade41aba5d97fc95a10a0b3cbf899abb)
   - version .5 now [scrapped for v.6](https://github.com/cvmfs/cvmfs/compare/cvmfs-2.12.5...cvmfs-2.12.6)
- CVMFS: NFS mount issues, stale file handles on Alma 9 write host (cvmfswrite05) [reported by sPHENIX](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37593)
  - some NFS export changes made the night before but should not have affected client mounts
- CVMFS: more issues caused by NFS/NetApp exported hung mounts on Stratum Zero, reported [by sPHENIX](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37600)
  - multiple corrupted repositories required manual recovery 
- SDCC: Nagios server (nagios03) broken again by problems with Puppet server (gcemaster06), erased existing external resources (Nagios config and contact lists)
  - temporariliy mitigated with Puppet service restart (Jason), but requires dedicated attention and fixes
- SDCC: continuing to work with Atlassian on Jira [trial subscription issue](https://support.atlassian.com/requests/JST-1085974/)
- SDCC: discussions on EIC monitoring effort, funds for storage purchases, possible postdoc effort
- SDCC: Indico category management for new staff, user roles
- SDCC: had to delete and recreate my SDCC OTP token to fix sync issue with incorrect token and account mappings
- SDCC: User Services discussions on monitoring work, Matomo replacement with AWStats, user account activity summary automation, sPHENIX wiki protection and access, NX service problems, OTP token and auth issues, GLPI deployment
- BNL: continued battle with Travel, DOE advisories to get trip to KEK submitted for B2GM (less than a month away)
- BNL: renewed expiring, required Cyber Security training via challenge exam ([GE-CYBERSEC-CE](https://training.bnl.gov/portal/GE-CYBERSEC-CE)) 
- BNL: travel (CERN, 1-11 Feb)

# 20-24 Jan
- ATLAS: VO, IAM user management, questions, troubleshooting
- Belle II: more issues with conditions payload and IoV uploads since RHEV -> OpenShift mmigration
- SDCC: [ATLAS TIM](https://indico.cern.ch/event/1472836/timetable/) (Stony Brook, 21-23 Jan)
- BNL/DOE: Department of Energy Accountability Exercise
- BNL: holiday (1: 20 Jan)

# 13-18 Jan
- ATLAS: VO, IAM user management, questions, troubleshooting
  - issues with recently created hmbs and higp VO groups: created at VO root instead of within '/atlas' sub-group
     - in IAM by default new groups are added to VO root, must instead be added as "subgroups" of 'atlas' group
- ATLAS: [reported CERN issue](https://cern.service-now.com/service-portal?id=ticket&table=incident&n=INC4293493) with OTP testing on lxplus9-future WNs
- Belle II: problems with Rucio front ends after migration to OpenShift VMs, upgraded version, EL9 upgrade
  - extensive debugging of faulty GeoIP code, SSL version mismatches
  - edits to replica_sorter and httpd systemd service config to short circuit GeoIP errors
- Belle II: production conditions database backup and restore to test bed for verification of migration scripts
- Belle II: additional complaints of conditions payload and IoV [calibration upload issues](https://gitlab.desy.de/belle2/data-production/calibration/prompt/-/issues/59), possibly recurrence or variation of previously seen issues caused by excessive concurrent uploads
  - at least partially caused by VM platform move from RHEV to OpenShift; guest network interface MTU had to be reduced to 1400 (including docker pod virtual interfaces) 
- CVMFS: another [reported issue](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37557) with sPHENIX data hosting on our Stratum Zero
  - reported possible data missing from repo, but no problems or errors seen in publication or other server operations
- CVMFS: continued chasing and disproving reported problems and delays in Stratum One operations by WLCG/cvmfs-servermon monitoring
  - also produced repeated alerts for Stratum One at KEKCC, which was in known downtime
  - monitor incorrectly reports BNL replica is "unavailable" (disproven with response times < 0.5s)
- SDCC: post mortem meeting for F&O power intervention
  - Communication and coordination lacking between F&O and facility must be improved
- SDCC: security reports from Jerome on Rucio, Kibana for Belle II (Hiro)
  - Mitigation not clear as openssl version already latest for Alma9/RHEL9
- SDCC: [SET repository](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37556) SSL certificate expiration, lack of support and maintenance
  - most staff denied access to server (nnsdset01) and its gateway (nnsdssh01)
  - problem wil recur annually since certificate was not deployed and managed via Puppet 
- SDCC: with Costin, fixed broken package repository mirroring, added support for ARM architecture
  - required hacking of item_repo.py and utils.py scripts, arch addition via CLI:
    - `cobbler repo edit --name=${repo-name}cvmfs-aarch64-el9 --arch=${new-arch-name}`
  - cobbler mirror host (extcob02) still outdated, system time broken, dhcpd broken, needs to be fixed/replaced
- SDCC: Jira Work Management instance and subscription will be [migrated by Atlassian to "Jira"](https://www.atlassian.com/licensing/jira-work-management) after 3 Feb
- SDCC: continuing to work with Atlassian on Jira [trial subscription issue](https://support.atlassian.com/requests/JST-1085974/)
- SDCC: User Services discussions on monitoring work, SSL certificate information and replacement, AFS [documentation](https://www.sdcc.bnl.gov/services/storage-services/distributed-storage/afs-distributed-file-system-service) (should be deprecated/deleted), web server maintenance and responsibilities, IDM/IPA service maintenance warnings and their effects on account audit scripts, GLPI package deployment

# 6-10 Jan
- ATLAS: VO, IAM user management, questions, troubleshooting
  - Issues with users who have multiple experiment affiliations and VO access (secondary affiliations not always extended in CERN HR DB)
  - Problematic Rucio user from last week reinstated by ATLAS ADC
- ATLAS: CERN power cut 8 Jan 6am CEST to test emergency generators
- Belle II: grid downtime scheduled during KEKCC shutdown next week (10-14 Jan); job draining to begin 9 Jan; Rucio to be upgraded
- Belle II: fielded complaints about conditions data access issues over weekend due to OpenShift network configuration issues
- Belle II: modifications to Rucio 'hermes' daemon code in Git in preparation for service upgrade during KEKCC downtime (in both Puppet instances, and both [production](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/pulls/565) and [a9](https://webdocs.sdcc.bnl.gov/repos/puppet/puppet/commit/c0ddf48411a82b66604c71ef5f091482c95d3b60) Git branches); also required Foreman environment, branch, class import
- CVMFS: found issues with overlapping and failing snapshots for multiple OSG repos triggered by crons for cvmfs-server, similar to symptoms outlined in [previous GitHub issue report](https://github.com/cvmfs/cvmfs/issues/3690)
- CVMFS: continued reported delays in Stratum One operations by WLCG/cvmfs-servermon monitoring
  - 'ams' repo snapshot delayed 9 hours (4 Jan); 'unpacked' repo snapshot delayed 22 hours (5 Jan)
- CVMFS: Nagios again reporting transient spool mounts (in /var/spool/cvmfs) on Stratum Zero as critical failures (as of 3 Jan), required manual [acknowledgement and override](https://monitoring.sdcc.bnl.gov/nagios-rhel7/cgi-bin/extinfo.cgi?type=2&host=cvmfs-s0a.sdcc.bnl.gov&service=mountpoints)
- Frontier: our frontier-squid installations on EL7 are no longer supported until we migrate to EL8/9, as of version 5.9-2.1
- SDCC: fixed [complaints about COSMO web issues](https://rt.racf.bnl.gov/rt//Ticket/Display.html?id=37529) by clearing stale/hung GPFS mount on back end file server host
- SDCC: many hosts (including spweb0{1,2}) evicted from GPFS clusters due to server-side disk expansion and upgrade
  - 27 client hosts affected, required manual client package and kernel module fixes
  - both spweb hosts being used as backends by sphenix-intra for different purposes (01: jsroot, elog; 02: phpmyadmin, HTML content)
- SDCC: Projects meeting reports and discussions
- SDCC: discussions for post mortem meeting for 30 Dec F&O power intervention (8 Jan)
- SDCC: issues with OKD due to expired SSL certificate
- SDCC: Jira generating trial subscription requests for disabled and unwanted products; security setting to disable such requests is broken; [Atlassian support ticket](https://support.atlassian.com/requests/JST-1085974/) filed
- SDCC: Gitea admin and troubleshooting of organizations and team memberships
- SDCC: debugged test web proxy failures and issues on proxytest00, fixed expired SSL certificates and virtual host configurations, brought outdated test_proxy Git environment up to date with production, restored Puppet functionality, debugged broken OKD proxying to restore service access
  - many sites and services will break again next year when the new SSL certificate expires, unless this host is updated or Git and Puppet management are cleaned up
  - details added to [new Jira issue](https://racfjira.atlassian.net/browse/WEB-26)
- SDCC: EOS overview meeting w/CERN
- SDCC: User Services discussions on monitoring work and [Prometheus deployment](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37539), Git and Pupppet information and documentation, SSL certificate information and replacement, NX service maintenance and troubleshooting, web server maintenance and responsibilities

# -- 2024 -- 

# 30 Dec - 3 Jan
- ATLAS: VO, IAM user management, questions, troubleshooting
  - ATLAS user [manually "banned"](https://ggus.eu/index.php?mode=ticket_info&ticket_id=169504#update#12) (credentials revoked) in IAM due to millions of Rucio requests that took down CE at INFN 
- Belle II: SuperKEKB acheived peak luminosity of 5.1 * 10^34 cm^-2 s^-1 (previous peak of 4.71 * 10^34 cm^-1 s^-1 during Jun 2022 run)
- Belle II: complaints about service access failures during F&O power intervention, [GGUS tickets](https://ggus.eu/index.php?mode=ticket_info&ticket_id=169519) and [Gitlab issues](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/data-production-shift/-/issues/462#note_1166386) created by experiment
- Belle II: renewed expiring host certificates on conditions database VMs
- Belle II: with Joe, migrated conditions service VMs from RHEV to OpenShift
  - hosting platform network issues caused extended outages on metadata and payload services; services ran crippled and at risk for a day
- CVMFS: delay in 'unpacked' gc operations reported on 25 Dec not cleared until 29 Dec (14 day interval)
- CVMFS: with Joe, migrated all services VMs from RHEV to OpenShift
  - problem found with sphenix repo publishing during migration (illegal publication attempt of new, recursive dir); fixed manually
  - liaisons turned intervention announcement into platform for complaints about mail client handling of host certificates (using SSH tunnels instead of SOCKS proxy as recommended) 
- Frontier: with Joe, migrated all caching services VMs from RHEV to OpenShift
- Frontier: found, reported dependency issues with minor version upgrade of latest frontier-squid package
- SDCC: with Jason, replacement of expiring InCommon wildcard SSL host certificates, pushed to Git to be propagated via Puppet to necessary hosts
- SDCC: preparation and recovery from F&O forced power test (30 Dec)
- SDCC: F&O downtime recovery exposed issues with web site announcement scripts (did not record or publish announcements about F&O power intervention, could not be used as a reference for experiments with questions and complaints about downtime)
- SDCC: F&O downtime recovery exposed issues with NX service (host certificates left at defaults, httpd service not enabled on boot)
- SDCC: User Services discussions on monitoring work, SDCC web site issues, GLPI upgrade and deployment, email service and documentation, NX service maintenance and troubleshooting
- BNL: holiday (1: 1 Jan), lots of activity during BNL (not so) "quiet period"

# 23-27 Dec
- ATLAS: VO, IAM user management, questions, troubleshooting
- Belle II: KEKCC downtime schedule established during next month's KEK site-wide maintenance and power outage (10-13 Jan, 8 Feb)
- CVMFS: investigated continued issues reported by WLCG monitoring on Stratum One operations
  - delayed maintenance operations on 'unpacked' repo reported as "warning" by monitoring on Christmas day (completion delayed by 10 days)
    - reported back that probe and gc code check seem faulty; gc is scheduled 1x/week and will not be retried until 28 Dec
- SDCC: wildcard SSL certificates expiring 5 Jan, affecting many services, need to be renewed and replaced in Git repositories
- BNL: F&O power intervention planned for next week (30 Dec, during BNL "quiet period"), not communicated to SDCC until 18 Dec, will cause downtime and possible recovery issues
- BNL: holidays (2: 24-25 Dec)

# 16-20 Dec
- ATLAS: VO, IAM user management, questions, troubleshooting
  - Multiple user issues with certificate problems, DN mapping to ATLAS DDM services, DDM production privileges remaining for users who no longer have production roles in IAM, access problems to ATLAS sites related to CERN e-group membership
- Belle II: due to budget and maintenance concerns, skipping three-month run in 2025ab periods (early and mid 2025), to instead extend late 2025 run to seven months (Nov 2025 - May 2026)
- Belle II: datacenter blackout at Napoli caused by fire (affecting LCG.Napoli.it site, and Napoli-TMP-SE/Napoli-DATA-SE)
- Belle II: heavy conditions payload access continues, due to [repeated requests](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/data-production-campaigns/-/issues/23#note_1162730) for a few payload files at sites without caches
- Belle II: follow-ups to year-old [report](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/data-production-shift/-/issues/63#note_1163219) on slow and failed conditions data access: requests for old, invalid global tags not cached in CVMFS, should not be used
- Belle II: updates to new analysis facility [documentation](https://gitlab.desy.de/belle2/computing/computing-facilities/bnl-analysis-facility/-/wikis/home)
- Belle II: conditions database meetings, discussions on migration to (and availabiliity of) OpenShift hosting, migration and testing timelines, HSF CDB development and maintenance
- Belle II: issues with file transfers from BNL to CNAF (no issues found with BNL FTS or GFAL access), possibly related to SHA1 signed host certificates
- Belle II: one old Condor gatekeeper (bgk01) being retired, another (bgk02) being upgraded to Alma 9; Nagios disabled for bgk01
- CERN: renewed expiring mandatory Data Privacy training
- CVMFS: continued issues with Stratum One snapshotting and other operations due to NAS I/O
  - weekly automated maintenance on repos continue to strain other operations: 'unpacked' replication delayed 18 hours
  - no improvement seen after optimizing NFS mount options
- CVMFS: patched [version 2.12.3](https://ecsft.cern.ch/dist/cvmfs/cvmfs-2.12.3/) released by devs, client deployment to farm not likely until another bug-free feature release
- ITD: migration of mail relay servers from MS Exchange to postfix caused message and content formatting issues for all non-Outlook clients, requires manual per-user fix to accounts on ITD side 
- SDCC: User Services discussions on monitoring work, awstats implementation for US ATLAS Drupal, Git information and documentation, GLPI upgrade and deployment, email service and documentation, NFS share details and deployment for software distribution, NX service maintenance and troubleshooting and documentation

# 9-13 Dec
- ATLAS: VO, IAM user management, questions, troubleshooting
  - issues with support for `voms-*` packages and EL9 compatability: package updates break with newer Java versions
- Belle II: investigated [reported issues](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/data-production-campaigns/-/issues/23#note_1162730) with conditions database service in data production jobs
  - one user requested two payload files over 9k/each over 6 hours
- Belle II: continued concerns regarding imminent [CILogon certificate CA retirement](https://ca.cilogon.org/retirement) and subsequent loss of x.509 certificates for user authentication
  - recommended mitigations from WLCG (including paid extension of CA service) unfortunately do not seem feasible
- Belle II: batch issues on new local submit nodes, affecting calibration runs
  - sssd, condor services not started after host reboots, not actively monitored
- Belle II: continued issues with grid jobs being held on submit at BNL, requiring adjustment to max job memory on submit side to try and balance job allocation efficiency (testing 3GB/max/job)
- Belle II: GEANT certificate users warned of CA provider change in January, urged to renew certificates beforehand
- CVMFS: continued issues with Stratum One snapshotting and other operations
  - weekly automated maintenance on repos continue to strain other operations
    - 'ams' replication delayed 9 hours; 'unpacked' replication delayed 20 hours
- CVMFS: cache checking issues found in new 2.12 release; awaiting bug fixes and validation before testing locally
  - GPG signature missing from [latest `release` package ](https://ecsft.cern.ch/dist/cvmfs/cvmfs-release/cvmfs-release-latest.noarch.rpm) (fixed)
- CVMFS: troubleshooting of Stratum Zero and repair of PHENIX repo and publishing service after user configuration caused kernel panic
  - required stopping of all publishing processes, unmounting repo partition, resetting and restoring repository (10 Dec)
- ITD: discussions regarding federation, IDP, authentication, tokens v. x.509 auth, InCommon, CILogon CA retirement
- NPP: all-hands meeting (9 Dec, 1.5 hours)
- SDCC: BNL Indico management for RACF category and users, [new category created](https://indico.bnl.gov/category/601/) for SDCC/HTCondor collaborative meetings 
- SDCC: user token access to MatterMost [solved](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37415) (with appropriate access level granted, and without elevating privileges)
- SDCC: Globus support for lack of server-side multi-user end point configuration ([RT](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37494))
- SDCC: acknowledged/disabled host and service Nagios alerts for retired BNLBox back-ends (bnlbox0{3,4})
- SDCC: User Services discussions (and help sessions with staff members of other groups) on monitoring work, NX migration, staff onboarding documentation content and availability, NFS mounts and options for software distribution, Drupal import feed module issues, awstats implementation for US ATLAS Drupal and httpd log and archive ingestion, Git information and documentation, RT ticket and queue management
  - US ATLAS Drupal site built by DataArt using custom CERN feed import module, broke due to lack of maintenance and auto-updates from [remote Git repo](https://gitlab.cern.ch/web-team/drupal/public/d10/modules/cern-indico-feeds)
  - after feed module fix, 2/968 feeds broken due to module restriction on room names (256 char)
- SDCC: Jupyter/Jupyterhub debugging and testing (jupyter, atlas-jupyter, jupyter-dev)
- WLCG: 2nd [Open Technical Forum (OTF)](https://indico.cern.ch/event/1478941/) on storage challenges (10 Dec)
- WLCG: pushing back on the [new WLCG baseline requirement](https://twiki.cern.ch/twiki/bin/view/LCG/WLCGOpsMinutes241205#WLCG_baseline_for_CVMFS_stratum) to [include cvmfs-servermon](https://twiki.cern.ch/twiki/bin/view/LCG/WLCGBaselineTable) in all Stratum One installations, which was misrepresented to WLCG as a request on my behalf
- BNL: renewed expiring "Ethical Behavior and Professional Conduct" [training](https://training.bnl.gov/portal/TQ-EMP-ETHICS)
- BNL: obtained electronic travel authorisation (ETA) for travel to/through UK (valid 8 Jan 2025-2027)

# 2-6 Dec
- ATLAS: VO, IAM user management, questions, troubleshooting
  - continued issues with user membership suspensions due to incorrect contract end date synchronization
    - CERN FAP-BC scripts to clean up RU institute users after 30 Nov may have inadvertantly affected other users' records
    - IAM service team found inconsistent query results for user records from HR Oracle user DB
      - CERN DB team increased refresh interval of `cf_person_particpation` mview from 1 day to 1 minute
      - possible issue with `gdt2511_voms_institutes` view as well if end date = today's date; investigation pending
    - detailed discussion and debigging in [CERN SNOW ticket](https://cern.service-now.com/service-portal?id=ticket&table=u_request_fulfillment&n=RQF2906708)
  - issues with "expired" one-time VO registration confirmation emails [from IAM](https://github.com/indigo-iam/iam/issues/862) continue to affect users
  - legacy 'production' role removed from excess/inactive [list of 70 ATLAS VO members](https://docs.google.com/spreadsheets/d/1ePZyVQ3iOpVV2yXzUy8Fgt-qBOC94BYG5QpK60fgepI/edit?gid=1929951473#gid=1929951473) (Petr, including Hiro's privileges, which needed to be manually restored)
  - several users having issues with certificate replacement/renewal and VO registration
  - multiple users with complaints about fragmented, incomplete certificate documentation spread amongst multiple sites, confusing emails from IAM
- Belle II: continued concerns regarding imminent [CILogon certificate CA retirement](https://ca.cilogon.org/retirement) and subsequent loss of x.509 certificates for user authentication
  - renewed discussions with CILogon regarding possible temporary extension of CA services
    - Extension of CILogon CA service will not be provided; DUNE is also not ready, but CILogon is working with them to expedite token adoption (not possible for Belle II yet)
  - notified all US Belle II partitipants with registered CILogon certificate DNs of CA retirement, recommendations for different CA providers
  - WLCG, IGTF suggestion to investigate possbility of using [eMudhra CA](https://www.e-mudhra.com/home) (commercial provider in India, requires payment)
- Belle II: continued investigation of running jobs being held at BNL, presumably due to memory requirements, cgroups config changes
- Belle II: continued issues with calibration job issues with dcache access: works with root, fails with any posix access
  - needs to work from new spool nodes (e.g., spoolsub01); xroot will be used in the future but can not change current calibration run to use it now
  - posix issues were related to incompatible NFSv4.1 mount options; fixed and remounted (Hiro, Farm)
- Belle II: experiment document server has been migrated from Invenio to [PubDB](https://docs.belle2.org/) ([service and migration details](https://xwiki.desy.de/xwiki/bin/view/BI/Belle%20II%20Collaborative%20Services%20and%20Tools/PubDB/))
- Belle II: helped debugging of CVMFS client issues on NAF farm nodes at DESY (possible user load correlation, or issue with newer kernels or EL 9.4/9.5 compatability)
- Belle II: Jan-Feb 2025 KEKCC power outage downtime schedule [finalized](https://wiki.kek.jp/pages/viewpage.action?pageId=426934473) (10-13 Jan, 8 Feb)
- CVMFS: continued issues with Stratum One snapshotting and other operations
  - weekly automated operations on 'unpacked' repo continue to strain other operations (5m interval snapshot delayed 18 hours)
  - added new mount options to further optimize NFS performance on Stratum One (with Joe), possibility to also move to NFSv4 if necessary
- CVMFS: major version 2.12 made [available for testing](https://ecsft.cern.ch/dist/cvmfs/cvmfs-2.12.0/)
- ITD: secure DNS key rotation issue disrupted name resolution for two hours, interrupted access (1 Dec 8-10 AM)
  - also affected external email delivery: unknown volume of lost incoming messages not sent or retried during outage
- SDCC: sPHENIX discussion of technical issues with HSF CDB implementation in OKD related to client storage privileges, Insure++ license server migration, NX migration
- SDCC: User Services discussions on GLPI upgrade and optimization, production monitoring issues and fixes, development monitoring work, NX upgrade and migration issues, insure++ license server and software migration, Mattermost token API access and [user debugging](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37415)
  - Creating a new NFS volume for SDCC software distribution (Saroj, Joe)

# 25-29 Nov
- ATLAS: VO, IAM user management, questions, troubleshooting
  - issues with 'perf-flavtag' membership and privileges granting access to RSEs
  -  GEANT CA users urged to renew existing certificates before pending service interruption and change (Jan 2025)
- Belle II: many jobs at BNL continue to stall immediately after submission
  - jobs exceeding memory request on submission (request 2G memory, using 3G)
- Belle II: conditions database HSF migration meeting, review of planned task assignment
- Belle II: was somehow missing from main computing list ('comp@belle2.org'), had to request membership
- CVMFS: continued issues with Stratum One snapshotting and other operations
  - weekly automated operations on 'unpacked' repo continue to strain other operations (5m interval snapshot delayed 18 hours)
  - gc process on 'singularity' repo delayed 15 days
- SDCC: brainstorming for possible FAAST initiatives, cloud computing expansion, data streaming 
- SDCC: Jira administration for [CRISP project](https://racfjira.atlassian.net/jira/core/projects/CRISP/); even site admins can not create new project tasks due to assigned access limitations
- WLCG: further testing of GGUS replacement system, [assignment of team roles](https://helpdesk.ggus.eu/#ticket/zoom/1241), [ticket actions and privileges](https://helpdesk.ggus.eu/#ticket/zoom/1067), [Belle II computing team permissions](https://helpdesk.ggus.eu/#ticket/zoom/1238) (posting succeeded; mail delivery failed)
- BNL: had to complete benefits open enrollment (by accepting previous/default options)
- BNL: renewed expiring Basic Records Management (TQ-BRM) training via challenge exam
- BNL: holidays (2: 28-29 Nov)

# 18-22 Nov
- ATLAS: VO, IAM user management, questions, troubleshooting
  - issues with expiring AUP agreements for ATLAS service accounts (which shouldn't be attached to people)
  - issues with IAM not checking certificate CAs along with DNs, using VOMS AA API
  - issues with VO admins not resonding to issues without being specifically prompted
  - updates to `perf-idtracking` VO group membership, management per current team
- ATLAS: investigated reports of CVMFS issues affecting all US client sites
  - one site claimed client issues at all sites; no additional details or follow-ups provided; no such incident found
- Belle II: transient issues with conditions metadata service during heavy request load from KEKCC
  - 5m requests within a few hours on 18 Nov, heavy load continues since 16 Nov
- Belle II: updates to [Computing wiki page for US certificates](https://xwiki.desy.de/xwiki/bin/view/BI/Belle%20II%20Internal/Computing%20WebHome/Computing%20GettingStarted/Computing%20Belle-II-Grid-Certificate/Grid%20certificates%20andor%20BNL%20computing%20account%20for%20Belle%20II%20member/) to warn users of imminent retirement of CILogon CA service
- Belle II: announced current SuperKEKB run to continue through 27 Dec supported by KEK discresionary budget
- Belle II: announced [scheduled power cut](https://stw.kek.jp/stpg/shisetsu/construction/) for maintenance rolling throughout 11 Jan - 8 Feb
- Belle II: research, reflection in observation of LGBTQ in STEM day at Belle II (18 Nov), found [STEM Day site](https://prideinstem.org/lgbtstemday/) and articles
- Belle II: discussions with KEKCC core computing team regarding issues with CVMFS services migration issues, contractor service breaches
- Belle II: updates to DDM Rucio accounting dashboards in [private](https://monitoring.sdcc.bnl.gov/grafana/d/ddm-site-accounting-dev/ddm-site-accounting) vs [public](https://monitoring.sdcc.bnl.gov/pub/grafana/d/ddm-site-accounting/ddm-site-accounting) Grafana instances
  - SDCC public Grafana won't allow edits to dashboard, requires complete deletion/recreation or admin-level manual overwrite of existing object 
- CVMFS: continued issues with Stratum One snapshotting and other operations
  - operations on 'unpacked' repo continue to strain other operations
- CVMFS: review of pending Git changes in production branch affecting write hosts (`cvmfswrite0{1-2}`): most changes not related to CVMFS (mount options for write partitions)
- Cyber/SDCC: meeting on Cyber's Gravwell infrastructure and potential for addition to improved facility monitoring pipeline
- SDCC: monitoring infrastructure [meeting](https://docs.google.com/document/d/1OGr2SvrQe7CKvmEhnTRXCYelRFTAIXa-AueFKk19HyM/edit?tab=t.0), discussions on technical specifications and requirements, possible integration with BNL Cyber's [Gravwell](https://www.gravwell.io/) logging implementation, data retention requiremnts, storage needs and purchasing quotes, GLPI deployment and testing
- SDCC: many discussions assessing FTE allocation to ATLAS VO work
- SDCC: Projects meeting
- SDCC: User Services discussions on production monitoring issues and fixes, development monitoring improvements, NX upgrade and migration issues, GLPI upgrade issues, MM user token generation and management (per [RT ticket request](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37415))
- WLCG: further testing of new GGUS Helpdesk replacement, debugging missing teams and roles, functional [ticket testing](https://helpdesk.ggus.eu/*ticket/zoom/1240)

# 11-15 Nov
- ATLAS: VO, IAM user management, questions, troubleshooting
  - Continued issues with new user registration one-time verification being invalidated before users can confirm them
    - may be triggered by email anti-spam or IDS systems checking the links
    - records on IAM service side show confirmation links being sent via email as expected
    - followed up manually with remaining unconfirmed requests
  - Continued issues with user VO memberships auto-suspended by IAM
    - possible causes, CERN HR->IAM sync interval and details still unclear
  - Many ATLAS discussions on continued VO effort vs. current resource allocation
- ATLAS: debugging of reported CVMFS client issues at other sites, incorrect use of [CVMFS development add-on client check script](https://raw.githubusercontent.com/cvmfs/cvmfs/refs/heads/devel/add-ons/check_cvmfs.sh)
- ATLAS: entered FTE allocation prediction for Tier-1 operations for OTP management
- Belle II: HEP FY25 US-Japan Cooperation Program suspended for at least 1 year
- Belle II: DIRAC hosts (and other services) at BNL need to be [migrated to EL9](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/tasks/-/issues/210)
- Belle II: many jobs at BNL stuck in waiting state (stalled, pilot not running)
  - pilots assigned to gatekeeper (bgk03) by DIRAC, missing from HTCondorCE
- Belle II: GEANT grid certificate CA service (users and hosts) via Sectigo ending in Jan 2025; users and sites must renew beforehand, possibly find alternate CA
- Belle II: issues with Rucio traces and message queue build-up
  - increased then reduced kronos service chunk size to adjust trace flow (size of 5 seems to work best)
- BNL: ITD update on [reported Indico issue](https://bnlprod.servicenowservices.com/esc?id=ticket&table=incident&sys_id=a2ed141d47a59e10869b4080236d43a9) from 28 Oct with missing preference to hide Zoom links
  - ITD will test Zoom plugin, but no time table for testing or possible deployment
- CVMFS: continued issues with Stratum One snapshotting and other operations
  - operations on 'unpacked' repo continue to strain other operations
- CVMFS: resolved reported issues with 'neurodesk' repo replication and access from CDN
  - incorrect probe settings corrected on Cloudflare/Jetstream services; replication to be requested by experiment at RAL, IHEP, AU Stratum One sites
- CVMFS: reported issues with cvmfs-servermon service and cvmfs-stratum-alarm alerts, enumerated issues and suggested improvements
- ITD: RHEL Satellite incorrectly flagged, paused unused channel (Satellite Tools 6 Beta), sent notifications 24x/day; subscriptions had to be cleaned up on service side
- SDCC: User Services discussions on production monitoring issues and fixes, development monitoring improvements, NX upgrade and migration issues, GLPI upgrade issues
  - with Louis and Sasha, found many error messages from facility nodes likely related to EIC computing that were abandoned and running out of disk 
- SDCC: [login issues reported](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37396) with SDCC federated account login, caused by Windows Security
- SDCC/NPPS: joint meeting to summarize important talks at CHEP, DPHEP, HEPIX
- WLCG: Open Technical Forum (OTF) and DOMA combined meeting (13 Nov), focussed discussion on token readiness and CVMFS deployments
- BNL: holiday (1)

# 2-8 Nov
- ATLAS: VO, IAM user management, questions, troubleshooting
  - Created & configured new ATLAS 'phys-higp' & 'phys-hmbs' VO groups, production sub-groups, group managers, WLCG role labels
  - Continued issues with user VO memberships auto-suspended by IAM
  - Adjacent contract end & begin dates still seen as lapsing, triggering susppension, requiring manual admin overrides (often multiple)
  - New [IAM issue](https://github.com/indigo-iam/iam/issues/863) opened to allow admins to temporarily override expiration dates
  - New [CERN Service Now issue](https://cern.service-now.com/service-portal?id=ticket&table=u_request_fulfillment&n=RQF2906708) requesting data access and synchronization details from CERN Oracle HR team
  - Discussions with ATLAS Computing management regarding continued effort and allocated time
- ATLAS: closed [ATLAS CVMFS Github issue collector](https://github.com/cvmfs/cvmfs/issues/3615) as completed, due to lack of participation from other ATLAS sites
- Belle II: web site and visitor tracking discussions with US management, including [AWStats](https://www.usbelleii.bnl.gov/awstats/awstats.pl?config=belleii) features and testing
- Belle II: US users need to be made aware of imminent [CILogon certificate CA retirement](https://ca.cilogon.org/retirement), recommendations to user other CAs (e.g., CERN, KEK)
- Belle II: issues with Xwiki access and authorization for editing
  - New [Github issue](https://gitlab.desy.de/belle2/collaborative-services/xwiki-migration/-/issues/47) opened for DESY to check and fix user and group auth
  - Page access is available with login plus SSO; editing is disabled without VPN access or other workarounds
- Belle II: Rucio services stressed by single user (zhoujs), warned to fix access code or face suspension
- Belle II: discussions on conditions data services migration, responsibilities, timelines, collaboration of tasks with other groups
  - scheduling remains heavily dependent upon OpenShift deployment
- CVMFS: continued issues with Stratum One snapshotting and other operations
  - operations on 'unpacked' repo continue to strain other operations
    - single repo check ran for 4+ days
  - many full snapshot processes delayed, hung, orphaned due to heavy IO on NAS from weekly maintenance operations
    - Created CVMFS [Github issue report](https://github.com/cvmfs/cvmfs/issues/3690) on sleeping processes left over from completed replication runs
- CVMFS: more discussion with OSG about why they are replicating our internal test repo, and getting it removed from replication
  - Created OSG [Github patch](https://github.com/opensciencegrid/topology/pull/4292) and merge request to remove repo from OSG topology
  - Created OSG [Support Ticket #78082](https://support.opensciencegrid.org/support/tickets/public/0085f28307a35fd917297f245ada3969396bbcab68fc3f8d3f73afe02e548302) to officialy request that they discontinue replication of this repository
- CVMFS: investigated and reported slowness of 'cvmfsmon' API calls in WLCG monitoring
  - API calls take up to 2.4 minutes to return 2.4KB of [BNL Stratum One JSON data](http://wlcg-squid-monitor.cern.ch/cvmfsmon/api/v1.0/all&format=details&server=bnl)
- CVMFS: responded to OSG queries regarding rejection of AWS Cloudfront requests for 'neurodesk' repository data from Stratum One
  -  `HEAD` requests to Stratum One from `130.176.179.164` (no DNS entry) for a `cvmfs.neurodesk.org` URL, which is an unknown destination and therefore denied for proxying
- SDCC: emphasized critical state of monitoring services, need for improvements and staff involvement in Projects meeting
- SDCC: Farm team working on EL9 migration on shared pool nodes, addressing [year-old user ticket](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=36230) on EL9 env
- SDCC: User Services discussions on production monitoring issues and fixes, development monitoring improvements, web site analytics, Drupal site issues, web site & VM hosting issues
- SDCC: staff position interviews [1]
- WLCG: discussions with token profile group on accounting groups and attribute syntax

# 26 Oct - 1 Nov
- ATLAS: VO, IAM user management, questions, troubleshooting
  - Problems found with IAM new user activation, expiring registration keys
- Belle II: issues with CVMFS Stratum One at KEKCC after data center migration
- Belle II: issues persist with KEKCC NAT direct access to conditions DB services, bypassing site squids, being investigated by KEKCC core team
- Belle II: issues with job submission to BNL after DIRAC migration, EL7-EL9 gatekeeper migration
  - Gatekeeper changes to try and integrate non-token-based submission authentication with Gratia, which no longer supports x.509 auth, broke HTCondor job condition matching
  - BNL closing Belle II EL7 pools & shared WNs for EL9 (i.e., spool -> spoolsub nodes); calibration & other submit groups must migrate soon
- Belle II: [issues reported](https://gitlab.desy.de/belle2/computing/distributed-computing/operations/data-production-shift/-/issues/426) with data transfer failures to/from BNL tape and temp SEs
  - Test TPC attempts very slow on first try (6 minutes for 2.7G file from pNFS to local home), subsequent attempts succeed & complete much faster
- Belle II: KEKCC now subject to Japanese security export controls, requires annual affiliation registration for all user accounts
- Belle II: all hotels in Tsukuba for next B2GM (Feb 2025) already fully booked (university entrance exams 24-25 Feb, national holiday on 25 Feb)
- BNL: [reported ITD issue](https://bnlprod.servicenowservices.com/esc?id=ticket&table=incident&sys_id=a2ed141d47a59e10869b4080236d43a9) with BNL Indico not providing preference to hide Zoom links
  - Indico Zoom plugin required, not installed at BNL, to be revisted when local expert returns from holiday
- CVMFS: issues with replication of OSG's 'colorado.xsede.org' repo
  - replication began to fail from OSG source 29 Oct
  - OSG discontinued repo, and its entire hosting domain, with no notification
  - removed from Stratum One and all replication infrastructure
- CVMFS: issues with replication of one repository from OSG (eic)
  - Replication snapshot at 26 Oct 02:14 hung, subsequent snapshot at 02:29 failed, core dumped, corrupted catalog, prevented later scheduled snapshots from succeeding
  - mitigated 27 Oct by checking repository, repairing catalog
  - many full snapshot processes delayed, hung, orphaned due to heavy IO on NAS from weekly maintenance operations
- SDCC: many issues found with current production monitoring services and systems
  - production ElasticSearch services out of allocated shards, can not create additional shards
  - problematic dcache Logstash pipelines caused many service errors, removed from production config (RT#[36357](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=36357))
- SDCC: another claim of missing new user account requests (RT#[37322](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37322))
  - no evidence to suggest any user account requests were missing or lost during or since issues fixed last week
  - improvements made to log request submissions, failures (Louis) to address [outstanding ticket](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37322) on the service
- SDCC: provided feedback on recent interview candidates
- SDCC: User Services discussions on user account scripts and logging, monitoring improvements and collaboration with staff

# 21-25 Oct
- ATLAS: VO, IAM user management, questions, troubleshooting
  - Managing service accounts with IAM & tokens still an issue
    - Extensive debugging on oidc-client operations at CERN lxplus (not installed at BNL) and local client installation
  - CERN ATLAS IAM email templates, AUP instructions modified to include VO admin contact info
- Belle II: job submission downtime due to migration of grid services to new KEKCC nodes (20-24 Oct)
- Belle II: HTCondor submission errors to pps-htcondor-ce.gridka.de [finally solved](https://ggus.eu/index.php?mode=ticket_info&ticket_id=164242)
  - Ticket initially submitted Oct 2023
- Belle II: serious concerns about sustainability of abandoning Airflow for calibration and creating a new framework based on Luigi/b2luigi
- Belle II: [issues](https://gitlab.desy.de/belle2/data-production/calibration/automated-calibration-tasks/-/issues/1843) with calibration and current Airflow process on both current EL9 shared pool nodes and EL9 (Alma) test node (`spar0108`)
  - gfal access working on EL7 but root access fails for calibration jobs, but could not be reproduced with local admin accounts (gfal, root, etc. all worked for us)
  - likely failed temporarily due to DIRAC unavailablilty during migration
  - calibration jobs running under account of user who is no longer in the B2 collaboration, may eventually expire, also ran out of 10TB GPFS quota
- Belle II: [first collisions](https://www-linac.kek.jp/skekb/snapshot/lumhist/lumhist.html) in data taking for 2024c run (24 Oct)
- CVMFS: found and reported issues with Stratum One services at [Sampa, BR](http://sampacs01.if.usp.br:8000/cvmfs/)
  - Also found they were replicating our BNL test repo, which is undesirable -- had them stop replication, investigating why this was done 
- CVMFS: Stratum One operations still flagged with slowness by WLCG during intensive weekend operations
  - 20-hour delay on snapshots for 'unpacked' repository (normally 5-minute interval)
- Jira: continued renewal process for annual Jira Workplace Management subscription renewal, dealing with SHI intervention
  - Quote from Atlassian requested, provided, [issue closed](https://getsupport.atlassian.com/servicedesk/customer/portal/68/DDS-69557)
  - Statement of Work (SOW) now required by BNL purchasing for software subscriptions; created & submitted
  - Requisition/Purchase Order [455019](https://psfinance.psoft.bnl.gov/psp/Fsprod/EMPLOYEE/ERP/c/REQUISITION_ITEMS.BNL_REQ.GBL?Page=BNL_REQ_HDR&Action=U&BUSINESS_UNIT=BNL&REQ_ID=0000455019) created, submitted, approved, pinned, dispatched
  - SHI included (who in turn included Carahsoft) in PO by BNL despite providing no value or assistance in the purchasing process, and quoting a price higher than the quote I obtained directly from Atlassian, because they're "a known vendor"
- GGUS: more testing of roles, VO assignments for new GGUS migration to [new helpdesk service](https://helpdesk.ggus.eu/)
- SDCC: new user account request form stopped creating RT tickets for new submissions (RT#[37322](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37322))
  - Form submission succeeded, but email notifications of new requests never sent to admins or recorded in RT
  - sendmail on script backend host (web01) was "running" but broken ('`sendmail dead but pid file exists`'), needed a restart
  - Backend is EL6, Puppet is broken, unmonitored, needs to be upgraded/replaced
- SDCC: monitoring infrastructure [meeting](https://docs.google.com/document/d/1OGr2SvrQe7CKvmEhnTRXCYelRFTAIXa-AueFKk19HyM/edit?tab=t.0)
- SDCC: updated US ATLAS 2.3.1 milestone for CVMFS upgrade completion (Alexei)
  - Dependent upon OpenShift and EL9 infrastructure availability
- SDCC: User Services team discussions on monitoring improvement project work and time allocation, prod monitoring troubleshooting, Belle II site analytics
- SDCC: provided feedback as requested for staff performance appraisals
- SDCC: staff position interviews [1]

# 14-18 Oct
- ATLAS: VO, IAM user management, questions, troubleshooting
  - Issues with creating new service accounts, associating them with user memberships
    - IAM has no capacity for GUI management of service accounts, must be created/managed via API token curl calls
  - Users can now add their own certificate DNs after IAM update
  - 785 DNs issued by retired/invalid CAs, 96 unused VO roles purged from IAM
  - AUP expiration of 1-year intervals restored (14 Oct)
    - 1700 ATLAS users were sent "AUP signature reminder" renewal emails from IAM with faulty link (16 Oct)
      - AUP link access does not work without first logging into IAM
    - ATLAS Secretariat were flooded with help requests from confused users
    - Improved instructions sent in follow-up email to most affected users
    - Email templates for AUP communications modified to include admin contact info
- ATLAS: debugging of admin-level token generation for IAM with oidc
  - Tokens generated to manage VO users failed with permissions issues
  - Missing `scim` scopes for read/write operations (in addition to known `iam:admin` scopes)
- ATLAS: debugging of CVMFS client issues
  - NET2 running out of cache within containerized clients
    - Max nfiles (`CVMFS_NFILES`), other parameters not passed through to service container image
  - [CVMFS developer talk at CHEP 2024](https://indico.cern.ch/event/1338689/contributions/6010994/) (Laura) to address challenges of serving billions of files in highly parallel environments
- Belle II: discussions with CILogon on pending CA closure, plans for users to migrate to CERN for certificates
- Belle II: direct conditions access requests from KEKCC NAT appliances still seen after environment script fix, cache variable injection restored
  - Environment variables only set for interactive users, not batch job submission
  - Discussions on adding environment to b2setup before running basf2
- Belle II: issues with data transfers to BNL tape ([GGUS](https://ggus.eu/index.php?mode=ticket_info&ticket_id=168596))
  - Caused by central DDM policy to block attempts to overwrite existing data on tape, to be mitigated manually
- CVMFS: Stratum One operations still flagged with slowness by WLCG during intensive weekend operations
- CVMFS: discussions with developers, MWT2 about possible use of Varnish caching
- CVMFS: client failure debugging on ATLAS WN (acas0958)
  - atlas-nightlies repo failed to respond, corrupted cache caused by hd failure; node removed from HTCondor pool
- Jira: continued renewal process for annual Jira Workplace Management subscription renewal, dealing with SHI intervention
- SDCC: more issues with IDM/IPA auth service and expired certificates
  - Services failed overnight (11 Oct 2:30 AM)
- SDCC: discussions on distribution of successful FY'25 PD proposal for EIC Computing at BNL
  - Heavily reduced awarded funding require reductions to allocated FTE, HW producement, project scoping
- SDCC: Indico management of new [ECSJI event sub-category](https://indico.bnl.gov/category/591/) and requested ACLs (Alexei)
- SDCC: User Services team discussions on SSH key upload issue reports & improvements
- SDCC: staff position interviews [2]
- BNL: all-hands meeting (17 Oct)

# 6-12 Oct
- ATLAS: VO, IAM user management, questions, troubleshooting
  - Users still can't add certificates to their own memberships, requires manual admin addition of PEM encoded certificate content
- Belle II: 49th [Belle II General Meeting (B2GM)](https://indico.belle2.org/event/13003/) in Tsukuba (7-11 Oct)
  - Serious concerns about physics runs in 2025
    - New dust prevention devices ("knockers", "kickers", "wigglers") to be tested on beam pipes to combat sudden beam loss
    - 2025 first run may be truncated to 2-3 months due to maintenance work and high electricity costs
  - KEKCC data center migration issues continue to be found & fixed
    - Belle II grid environment scripts were not migrated to new systems
      - New Squids were not being set/used, forced uncached requests for conditions data from NAT appliances
  - Meetings with multiple groups on feature requests and development for conditions data migration to HSF CDB solution
- CVMFS: Costin deployed new EL9 experiment repository wrote node (cvmfswrite03)
  - Found some issues with permissions on root-squashed NFS mount for repository writes, missing accounts/users
  - [Verified by Chris P](https://rt.racf.bnl.gov/rt/Ticket/Display.html?id=37269) for sPHENIX software builds
- CVMFS: continued ATLAS investigation into broken requests for proprietary 'projects' repo data outside of CERN
- CVMFS: Stratum One operations still flagged with slowness by WLCG during intensive weekend operations
- Jira: administrative intervention, modification of CRISP project settings and exclusive ACLs by new project leads
- Jira: continued renewal process for annual Jira Workplace Management subscription renewal, dealing with SHI intervention
- BNL travel (Tsukuba through 12 Oct)
 
# 30 Sep - 5 Oct
- ATLAS: VO, IAM user management, questions, troubleshooting
  - Continued issues with VO memberships incorrectly expiring and auto-suspension
  - `hr.cern:action` and `lifecycle:status` membership values still problematic for some users
- Belle II: possible issue with grid environment (gbasf2) and job submission on BNL shared pool nodes due to outdated libraries on EL7
  - Also an issue with xrdcp failing against BNL Belle II dCache storage (but succeeding with ATLAS dCache)
    - Misconfiguration on dCache door nodes corrected
- Belle II: continued discussion, planning for conditions database services platform migration
  - Dedicated session to be held during B2GM
- CVMFS: Stratum One operations still flagged with slowness by WLCG during intensive weekend operations
  - 17-hour delay on snapshots for 'unpacked' repository (normally 5-minute interval)
- CVMFS: continued degraded cluster network alerts reported on dedicated NetApp NAS, because LACP is not yet properly configured
- [7th Rucio Workshop](https://indico.cern.ch/event/1343110/) (30 Sep - 4 Oct)
  - Many discussions about token auth, CILogon's [x.509 CA retirement in 2025](https://ca.cilogon.org/retirement) (Rucio team was not yet aware)
- Jira: continued renewal process for annual Jira Workplace Management subscription renewal, dealing with SHI intervention
  - Jira & Confluence subscription prices increasing 5-10%
- WLCG: opened [ticket in new support system](https://helpdesk.ggus.eu/#ticket/zoom/1067) to clarify/correct missing roles from user account
- BNL: multiple discussions with BNL travel and corresponding groups regarding persistent issues with BNL-booked flights
- BNL: submitted annual performance appraisal self assessment (1 Oct deadline)
- BNL travel (San Diego through 4 Oct, Tsukuba, 4-12 Oct)
